(function(){"use strict";var e={1404:function(e,t,o){var a=o(5130),n=o(6768),s=o(4232);function l(e,t,o,a,l,r){const i=(0,n.g2)("TopNavbar"),d=(0,n.g2)("SidebarPage"),c=(0,n.g2)("SidebarBackend"),u=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",{id:"app",class:(0,s.C4)({shifted:l.isSidebarActive})},[!r.isBackend&&r.showTopNavbar?((0,n.uX)(),(0,n.Wv)(i,{key:0})):(0,n.Q3)("",!0),r.isBackend||e.$route.meta.hideSidebar?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(d,{key:1})),r.isBackend&&!e.$route.meta.hideSidebar?((0,n.uX)(),(0,n.Wv)(c,{key:2,isSidebarActive:l.isSidebarActive,onToggleSidebar:r.toggleSidebar},null,8,["isSidebarActive","onToggleSidebar"])):(0,n.Q3)("",!0),(0,n.Lk)("div",{class:(0,s.C4)(["main-content",{shifted:l.isSidebarActive}])},[(0,n.bF)(u)],2)],2)}const r={class:"navbar"},i={class:"navbar-title"},d={key:0,class:"export-container"},c={key:0,class:"export-menu"};function u(e,t,o,a,l,u){return(0,n.uX)(),(0,n.CE)("nav",r,[(0,n.Lk)("div",i,(0,s.v_)(u.currentRouteName),1),u.isHomePage?((0,n.uX)(),(0,n.CE)("div",d,[(0,n.Lk)("button",{class:"export-button",onClick:t[0]||(t[0]=(...e)=>u.toggleExportMenu&&u.toggleExportMenu(...e))},"åŒ¯å‡º"),l.showExportMenu?((0,n.uX)(),(0,n.CE)("div",c,[(0,n.Lk)("button",{onClick:t[1]||(t[1]=e=>u.exportFile("pdf"))},"åŒ¯å‡ºPDF"),(0,n.Lk)("button",{onClick:t[2]||(t[2]=e=>u.exportFile("excel"))},"åŒ¯å‡ºExcel")])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)])}var p={data(){return{showExportMenu:!1}},computed:{currentRouteName(){return this.$route.name},isHomePage(){return"é¦–é "===this.$route.name}},methods:{toggleExportMenu(){this.showExportMenu=!this.showExportMenu},exportFile(e){this.$emit("export",e),this.showExportMenu=!1}}},h=o(1241);const m=(0,h.A)(p,[["render",u],["__scopeId","data-v-3c85f272"]]);var k=m;const b=e=>((0,n.Qi)("data-v-31c8ac63"),e=e(),(0,n.jt)(),e),f={class:"sidebar-header"},v={key:0},L=b((()=>(0,n.Lk)("span",{class:"text"},"å„€éŒ¶æ¿ç®¡ç†",-1))),g=b((()=>(0,n.Lk)("span",{class:"text"},"å€‹äººè³‡è¨Š",-1))),C=b((()=>(0,n.Lk)("span",{class:"text"},"å¸³è™Ÿè¨­å®š",-1))),w=b((()=>(0,n.Lk)("span",{class:"text"},"æ­·å²ç´€éŒ„",-1))),y=b((()=>(0,n.Lk)("span",{class:"text"},"ç™»å‡º",-1)));function _(e,t,o,l,r,i){const d=(0,n.g2)("font-awesome-icon"),c=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:(0,s.C4)(["sidebar",{open:r.isSidebarOpen}])},[(0,n.Lk)("div",f,[(0,n.bF)(d,{icon:"user",class:"icon"}),r.isSidebarOpen?((0,n.uX)(),(0,n.CE)("span",v,(0,s.v_)(r.username),1)):(0,n.Q3)("",!0),(0,n.Lk)("span",{class:"toggle-btn",onClick:t[0]||(t[0]=(...e)=>i.toggleSidebar&&i.toggleSidebar(...e))},"â˜°")]),(0,n.bF)(c,{to:"/frontend/home",class:"sidebar-link"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{icon:"tachometer-alt",class:"icon"}),L])),_:1}),(0,n.bF)(c,{to:"/frontend/profile",class:"sidebar-link"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{icon:"user",class:"icon"}),g])),_:1}),(0,n.bF)(c,{to:"/frontend/accountsettings",class:"sidebar-link"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{icon:"users",class:"icon"}),C])),_:1}),(0,n.bF)(c,{to:"/frontend/history",class:"sidebar-link"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{icon:"history",class:"icon"}),w])),_:1}),(0,n.Lk)("a",{href:"#",class:"sidebar-link",onClick:t[1]||(t[1]=(0,a.D$)(((...e)=>i.confirmLogout&&i.confirmLogout(...e)),["prevent"]))},[(0,n.bF)(d,{icon:"sign-out-alt",class:"icon"}),y])],2),(0,n.Lk)("div",{class:(0,s.C4)(["content",{shift:r.isSidebarOpen}])},[(0,n.RG)(e.$slots,"default",{},void 0,!0)],2)])}o(4114);var M=o(4373),P={name:"SidebarPage",data(){return{isSidebarOpen:!1,username:""}},methods:{toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen},confirmLogout(){const e=confirm("ç¢ºå®šè¦ç™»å‡ºå—ï¼Ÿ");e&&this.logout()},logout(){alert("å·²ç™»å‡º"),this.$router.push("/frontend/login")},async fetchUserData(){try{const e=await M.A.get("/api/frontend/profile/");this.username=e.data.username}catch(e){console.error("Failed to fetch user data:",e)}}},mounted(){this.fetchUserData()}};const E=(0,h.A)(P,[["render",_],["__scopeId","data-v-31c8ac63"]]);var R=E;const A=e=>((0,n.Qi)("data-v-6ffe4a4a"),e=e(),(0,n.jt)(),e),S=A((()=>(0,n.Lk)("div",{class:"hamburger-icon"},"â˜°",-1))),U=[S],V=A((()=>(0,n.Lk)("h2",null,"ç®¡ç†ä»‹é¢",-1)));function F(e,t,o,a,l,r){const i=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:"hamburger-menu",onClick:t[0]||(t[0]=(...e)=>r.toggleSidebar&&r.toggleSidebar(...e))},U),(0,n.Lk)("div",{class:(0,s.C4)(["sidebar",{active:o.isSidebarActive}])},[V,(0,n.bF)(i,{to:"/backend/dashboard"},{default:(0,n.k6)((()=>[(0,n.eW)("å„€éŒ¶æ¿ç®¡ç†")])),_:1}),(0,n.bF)(i,{to:"/backend/user-management"},{default:(0,n.k6)((()=>[(0,n.eW)("ç”¨æˆ¶ç®¡ç†")])),_:1}),(0,n.bF)(i,{to:"/backend/role-management"},{default:(0,n.k6)((()=>[(0,n.eW)("è§’è‰²ç®¡ç†")])),_:1}),(0,n.bF)(i,{to:"/backend/history"},{default:(0,n.k6)((()=>[(0,n.eW)("æ­·å²ç´€éŒ„")])),_:1}),(0,n.bF)(i,{to:"/backend/preferences"},{default:(0,n.k6)((()=>[(0,n.eW)("å€‹äººåå¥½")])),_:1}),(0,n.bF)(i,{to:"/backend/profile"},{default:(0,n.k6)((()=>[(0,n.eW)("å€‹äººè³‡æ–™")])),_:1}),(0,n.Lk)("button",{class:"logout-btn",onClick:t[1]||(t[1]=(...e)=>r.logout&&r.logout(...e))},"ç™»å‡º")],2)])}var x={props:{isSidebarActive:{type:Boolean,default:!1}},methods:{toggleSidebar(){this.$emit("toggle-sidebar")},logout(){this.$router.push("/backend/login")}}};const X=(0,h.A)(x,[["render",F],["__scopeId","data-v-6ffe4a4a"]]);var $=X,I={name:"App",components:{TopNavbar:k,SidebarPage:R,SidebarBackend:$},data(){return{isSidebarActive:!1}},computed:{isBackend(){return this.$route.path.startsWith("/backend")},showTopNavbar(){return!this.isBackend&&!this.$route.meta.hideNavbar}},methods:{toggleSidebar(){this.isSidebarActive=!this.isSidebarActive}}};const T=(0,h.A)(I,[["render",l]]);var D=T,Q=o(1387);const B=e=>((0,n.Qi)("data-v-bd311d32"),e=e(),(0,n.jt)(),e),J={class:"content",id:"content"},N={class:"login-container"},j={class:"login-form"},q=B((()=>(0,n.Lk)("h2",null,"ç”¨æˆ¶ç™»å…¥",-1))),W={class:"input-group"},O=B((()=>(0,n.Lk)("label",{for:"email"},"é›»å­éƒµä»¶",-1))),H={class:"input-group"},z=B((()=>(0,n.Lk)("label",{for:"password"},"å¯†ç¢¼",-1))),K={class:"input-container"},Z={class:"additional-options"},Y=B((()=>(0,n.Lk)("input",{type:"submit",value:"ç™»å…¥",class:"submit-button"},null,-1))),G={id:"login-feedback",class:"feedback"},ee={key:0,class:"error"};function te(e,t,o,l,r,i){const d=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",J,[(0,n.Lk)("div",N,[(0,n.Lk)("div",j,[q,(0,n.Lk)("form",{onSubmit:t[4]||(t[4]=(0,a.D$)(((...e)=>i.handleLogin&&i.handleLogin(...e)),["prevent"]))},[(0,n.Lk)("div",W,[O,(0,n.bo)((0,n.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>r.email=e),required:""},null,512),[[a.Jo,r.email]])]),(0,n.Lk)("div",H,[z,(0,n.Lk)("div",K,[(0,n.bo)((0,n.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),required:""},null,512),[[a.Jo,r.password]]),(0,n.Lk)("i",{class:"fas fa-eye toggle-password",onClick:t[2]||(t[2]=e=>i.togglePasswordVisibility("password"))})])]),(0,n.Lk)("div",Z,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox",id:"rememberMe","onUpdate:modelValue":t[3]||(t[3]=e=>r.rememberMe=e)},null,512),[[a.lH,r.rememberMe]]),(0,n.eW)(" è¨˜ä½æˆ‘ ")]),(0,n.bF)(d,{to:"/frontend/forgot_password"},{default:(0,n.k6)((()=>[(0,n.eW)("å¿˜è¨˜å¯†ç¢¼?")])),_:1})]),Y,(0,n.Lk)("div",G,(0,s.v_)(r.loginFeedback),1),r.error?((0,n.uX)(),(0,n.CE)("div",ee,(0,s.v_)(r.error),1)):(0,n.Q3)("",!0)],32),(0,n.Lk)("p",null,[(0,n.eW)("é‚„æœªæ“æœ‰å¸³è™Ÿï¼Ÿ "),(0,n.bF)(d,{to:"/frontend/register"},{default:(0,n.k6)((()=>[(0,n.eW)("è¨»å†Š")])),_:1})])])])])}var oe={data(){return{email:"",password:"",rememberMe:!1,loginFeedback:"",error:""}},methods:{async handleLogin(){try{const e=ae("csrftoken"),t=await M.A.post("/api/token/",{email:this.email,password:this.password,remember_me:this.rememberMe},{headers:{"X-CSRFToken":e}});console.log("ç™»å…¥æˆåŠŸ",t),this.user=t.data.user,localStorage.setItem("token",t.data.access),this.$router.push("/frontend/home")}catch(e){console.error("ç™»å…¥å¤±è´¥",e.response),e.response&&e.response.data?this.error=e.response.data.detail||"ç™»å…¥å¤±æ•—ï¼Œè«‹æª¢æŸ¥æ‚¨çš„ä½¿ç”¨è€…åç¨±å’Œå¯†ç¢¼":this.error="ç™»å…¥å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦"}},togglePasswordVisibility(e){const t=document.getElementById(e);t.type="password"===t.type?"text":"password"}}};function ae(e){let t=null;if(document.cookie&&""!==document.cookie){const o=document.cookie.split(";");for(let a=0;a<o.length;a++){const n=o[a].trim();if(n.substring(0,e.length+1)===e+"="){t=decodeURIComponent(n.substring(e.length+1));break}}}return t}const ne=(0,h.A)(oe,[["render",te],["__scopeId","data-v-bd311d32"]]);var se=ne;const le=e=>((0,n.Qi)("data-v-175fa4c4"),e=e(),(0,n.jt)(),e),re={class:"content",id:"content"},ie={class:"container"},de=le((()=>(0,n.Lk)("h2",null,"è¨»å†Š",-1))),ce=le((()=>(0,n.Lk)("label",{for:"username"},"ç”¨æˆ¶å",-1))),ue=le((()=>(0,n.Lk)("label",{for:"email"},"é›»å­éƒµä»¶",-1))),pe=le((()=>(0,n.Lk)("label",{for:"verification_code"},"é©—è­‰ç¢¼",-1))),he=le((()=>(0,n.Lk)("label",{for:"password"},"å¯†ç¢¼",-1))),me={class:"password-container"},ke=le((()=>(0,n.Lk)("div",{class:"password-example"},"å¯†ç¢¼å¿…é ˆåŒ…å«è‡³å°‘8å€‹å­—ç¬¦ï¼Œä¸”åŒ…æ‹¬å¤§å°å¯«å­—æ¯ã€æ•¸å­—å’Œç‰¹æ®Šå­—ç¬¦ã€‚ä¾‹å¦‚ï¼šPassword@123",-1))),be=le((()=>(0,n.Lk)("label",{for:"confirm_password"},"ç¢ºèªå¯†ç¢¼",-1))),fe={class:"password-container"},ve=le((()=>(0,n.Lk)("label",{for:"phone"},"é›»è©±è™Ÿç¢¼",-1))),Le=le((()=>(0,n.Lk)("input",{type:"submit",value:"è¨»å†Š",class:"submit-button"},null,-1)));function ge(e,t,o,l,r,i){return(0,n.uX)(),(0,n.CE)("div",re,[(0,n.Lk)("div",ie,[de,(0,n.Lk)("form",{onSubmit:t[9]||(t[9]=(0,a.D$)(((...e)=>i.handleSubmit&&i.handleSubmit(...e)),["prevent"]))},[ce,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>r.username=e),required:""},null,512),[[a.Jo,r.username]]),ue,(0,n.bo)((0,n.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=e=>r.email=e),required:""},null,512),[[a.Jo,r.email]]),(0,n.Lk)("button",{type:"button",onClick:t[2]||(t[2]=(...e)=>i.getVerificationCode&&i.getVerificationCode(...e))},"ç²å–é©—è­‰ç¢¼"),(0,n.Lk)("div",{id:"verification-feedback",class:(0,s.C4)({feedback:!0,success:r.feedbackSuccess,error:!r.feedbackSuccess})},(0,s.v_)(r.verificationFeedback),3),pe,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"verification_code","onUpdate:modelValue":t[3]||(t[3]=e=>r.verificationCode=e),required:""},null,512),[[a.Jo,r.verificationCode]]),he,(0,n.Lk)("div",me,[(0,n.bo)((0,n.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[4]||(t[4]=e=>r.password=e),required:""},null,512),[[a.Jo,r.password]]),(0,n.Lk)("span",{class:"toggle-password",onClick:t[5]||(t[5]=(...e)=>i.handleTogglePassword&&i.handleTogglePassword(...e))},"ğŸ‘ï¸")]),ke,be,(0,n.Lk)("div",fe,[(0,n.bo)((0,n.Lk)("input",{type:"password",id:"confirm_password","onUpdate:modelValue":t[6]||(t[6]=e=>r.confirmPassword=e),required:""},null,512),[[a.Jo,r.confirmPassword]]),(0,n.Lk)("span",{class:"toggle-password",onClick:t[7]||(t[7]=(...e)=>i.handleTogglePassword&&i.handleTogglePassword(...e))},"ğŸ‘ï¸")]),ve,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"phone","onUpdate:modelValue":t[8]||(t[8]=e=>r.phone=e),required:""},null,512),[[a.Jo,r.phone]]),Le],32)])])}var Ce={data(){return{username:"",email:"",password:"",confirmPassword:"",phone:"",verificationCode:"",verificationFeedback:"",feedbackSuccess:!1,csrfToken:""}},methods:{setAxiosCsrfToken(e){M.A.defaults.headers.common["X-CSRFToken"]=e},async fetchCsrfToken(){try{const e=await M.A.get("http://127.0.0.1:8000/frontend/register/",{withCredentials:!0});this.csrfToken=e.data.csrfToken,this.setAxiosCsrfToken(this.csrfToken)}catch(e){console.error("Failed to fetch CSRF Token:",e)}},async getVerificationCode(){if(this.validateEmail(this.email))try{const e=await M.A.post("http://127.0.0.1:8000/frontend/send-verification-code/",{email:this.email},{headers:{"X-CSRFToken":this.csrfToken},withCredentials:!0});this.feedbackSuccess=e.data.success,this.verificationFeedback=e.data.success?"é©—è­‰ç¢¼å·²ç™¼é€åˆ°æ‚¨çš„é›»å­éƒµä»¶ï¼Œæœ‰æ•ˆæœŸé™5åˆ†é˜ã€‚":e.data.message||"ç„¡æ³•ç™¼é€é©—è­‰ç¢¼ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚"}catch(e){this.feedbackSuccess=!1,this.verificationFeedback="ç„¡æ³•ç™¼é€é©—è­‰ç¢¼ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚"}else alert("è«‹è¼¸å…¥æœ‰æ•ˆçš„é›»å­éƒµä»¶åœ°å€ã€‚")},validateEmail(e){const t=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;return t.test(String(e).toLowerCase())},validatePassword(e){const t=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;return t.test(e)},handleTogglePassword(e){const t=e.target.previousElementSibling;t.type="password"===t.type?"text":"password"},async handleSubmit(){if(this.password===this.confirmPassword)if(this.validatePassword(this.password))try{const e=await M.A.post("http://127.0.0.1:8000/frontend/register/",{username:this.username,email:this.email,password:this.password,confirmPassword:this.confirmPassword,phone:this.phone,verificationCode:this.verificationCode},{headers:{"X-CSRFToken":this.csrfToken},withCredentials:!0});e.data.success?(alert("è¨»å†ŠæˆåŠŸï¼"),this.$router.push("/frontend/home")):alert(e.data.message||"è¨»å†Šå¤±æ•—ï¼Œè«‹é‡è©¦ã€‚")}catch(e){alert("è¨»å†Šå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚")}else alert("å¯†ç¢¼å¿…é ˆåŒ…å«è‡³å°‘8å€‹å­—ç¬¦ï¼Œä¸”åŒ…æ‹¬å¤§å°å¯«å­—æ¯ã€æ•¸å­—å’Œç‰¹æ®Šå­—ç¬¦ã€‚ä¾‹å¦‚ï¼šPassword@123");else alert("å¯†ç¢¼èˆ‡ç¢ºèªå¯†ç¢¼ä¸åŒ¹é…ã€‚")}},created(){this.fetchCsrfToken()}};const we=(0,h.A)(Ce,[["render",ge],["__scopeId","data-v-175fa4c4"]]);var ye=we;const _e=e=>((0,n.Qi)("data-v-53875868"),e=e(),(0,n.jt)(),e),Me={class:"container"},Pe={key:0},Ee={key:1},Re=_e((()=>(0,n.Lk)("label",{for:"email"},"é›»å­éƒµä»¶ï¼š",-1))),Ae=_e((()=>(0,n.Lk)("button",{type:"submit"},"ç™¼é€é©—è­‰ç¢¼",-1))),Se={class:"input-container"},Ue=_e((()=>(0,n.Lk)("label",{for:"resetCode"},"é‡ç½®ä»£ç¢¼ï¼š",-1))),Ve={class:"input-container"},Fe=_e((()=>(0,n.Lk)("label",{for:"newPassword"},"æ–°å¯†ç¢¼ï¼š",-1))),xe={class:"password-container"},Xe={key:0,class:"error"},$e={class:"input-container"},Ie=_e((()=>(0,n.Lk)("label",{for:"confirmPassword"},"ç¢ºèªæ–°å¯†ç¢¼ï¼š",-1))),Te={class:"password-container"},De={key:0,class:"error"},Qe=_e((()=>(0,n.Lk)("button",{type:"submit"},"é‡è¨­å¯†ç¢¼",-1)));function Be(e,t,o,l,r,i){return(0,n.uX)(),(0,n.CE)("div",Me,[1===r.step?((0,n.uX)(),(0,n.CE)("h2",Pe,"å¿˜è¨˜å¯†ç¢¼")):(0,n.Q3)("",!0),2===r.step?((0,n.uX)(),(0,n.CE)("h2",Ee,"é‡è¨­å¯†ç¢¼")):(0,n.Q3)("",!0),1===r.step?((0,n.uX)(),(0,n.CE)("form",{key:2,onSubmit:t[1]||(t[1]=(0,a.D$)(((...e)=>i.sendPasswordReset&&i.sendPasswordReset(...e)),["prevent"]))},[Re,(0,n.bo)((0,n.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>r.email=e),required:""},null,512),[[a.Jo,r.email]]),Ae],32)):(0,n.Q3)("",!0),2===r.step?((0,n.uX)(),(0,n.CE)("form",{key:3,onSubmit:t[7]||(t[7]=(0,a.D$)(((...e)=>i.handleResetPassword&&i.handleResetPassword(...e)),["prevent"]))},[(0,n.Lk)("div",Se,[Ue,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"resetCode","onUpdate:modelValue":t[2]||(t[2]=e=>r.resetCode=e),required:""},null,512),[[a.Jo,r.resetCode]])]),(0,n.Lk)("div",Ve,[Fe,(0,n.Lk)("div",xe,[(0,n.bo)((0,n.Lk)("input",{type:"password",id:"newPassword","onUpdate:modelValue":t[3]||(t[3]=e=>r.newPassword=e),required:""},null,512),[[a.Jo,r.newPassword]]),(0,n.Lk)("span",{class:"toggle-password",onClick:t[4]||(t[4]=(...e)=>i.handleTogglePassword&&i.handleTogglePassword(...e))},"ğŸ‘ï¸")]),r.passwordError?((0,n.uX)(),(0,n.CE)("p",Xe,(0,s.v_)(r.passwordError),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",$e,[Ie,(0,n.Lk)("div",Te,[(0,n.bo)((0,n.Lk)("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":t[5]||(t[5]=e=>r.confirmPassword=e),required:""},null,512),[[a.Jo,r.confirmPassword]]),(0,n.Lk)("span",{class:"toggle-password",onClick:t[6]||(t[6]=(...e)=>i.handleTogglePassword&&i.handleTogglePassword(...e))},"ğŸ‘ï¸")]),r.confirmPasswordError?((0,n.uX)(),(0,n.CE)("p",De,(0,s.v_)(r.confirmPasswordError),1)):(0,n.Q3)("",!0)]),Qe],32)):(0,n.Q3)("",!0)])}var Je={name:"ResetPasswordPage",data(){return{step:1,email:"",resetCode:"",newPassword:"",confirmPassword:"",csrfToken:"",passwordError:"",confirmPasswordError:""}},methods:{setAxiosCsrfToken(e){M.A.defaults.headers.common["X-CSRFToken"]=e},async fetchCsrfToken(){try{const e=await M.A.get("http://127.0.0.1:8000/frontend/reset-password/",{withCredentials:!0});this.csrfToken=e.data.csrfToken,this.setAxiosCsrfToken(this.csrfToken)}catch(e){console.error("Failed to fetch CSRF Token:",e)}},async sendPasswordReset(){if(this.email)try{const e=await M.A.post("http://127.0.0.1:8000/frontend/forgot-password/",{email:this.email},{headers:{"X-CSRFToken":this.csrfToken},withCredentials:!0});e.data.success?(alert("å·²ç™¼é€é©—è­‰ç¢¼è‡³æ‚¨çš„é›»å­éƒµä»¶"),this.step=2):alert(e.data.message||"æ“ä½œå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚")}catch(e){alert("æ“ä½œå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚")}else alert("è«‹è¼¸å…¥æœ‰æ•ˆçš„é›»å­éƒµä»¶åœ°å€")},validatePasswordStrength(e){const t=8,o=/[A-Z]/.test(e),a=/[a-z]/.test(e),n=/\d/.test(e),s=/[!@#$%^&*(),.?":{}|<>]/.test(e);return e.length>=t&&o&&a&&n&&s},async handleResetPassword(){if(this.passwordError="",this.confirmPasswordError="",this.validatePasswordStrength(this.newPassword))if(this.newPassword===this.confirmPassword)try{const e=await M.A.post("http://127.0.0.1:8000/frontend/reset-password/",{resetCode:this.resetCode,newPassword:this.newPassword},{headers:{"X-CSRFToken":this.csrfToken},withCredentials:!0});e.data.success?(alert("å¯†ç¢¼é‡ç½®æˆåŠŸï¼"),this.$router.push("/frontend/login")):alert(e.data.message||"é‡ç½®å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚")}catch(e){alert("é‡ç½®å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚")}else this.confirmPasswordError="æ–°å¯†ç¢¼å’Œç¢ºèªæ–°å¯†ç¢¼ä¸åŒ¹é…";else this.passwordError="å¯†ç¢¼å¿…é ˆè‡³å°‘åŒ…å«8å€‹å­—ç¬¦ï¼Œä¸”åŒ…æ‹¬å¤§å°å¯«å­—æ¯ã€æ•¸å­—å’Œç‰¹æ®Šå­—ç¬¦"},handleTogglePassword(e){const t=e.target.previousElementSibling;t.type="password"===t.type?"text":"password"}},created(){this.fetchCsrfToken()}};const Ne=(0,h.A)(Je,[["render",Be],["__scopeId","data-v-53875868"]]);var je=Ne;const qe=e=>((0,n.Qi)("data-v-15c846fa"),e=e(),(0,n.jt)(),e),We={class:"home-page"},Oe={class:"branch-selection"},He=qe((()=>(0,n.Lk)("label",{for:"branch-select"},"é¸æ“‡åˆ†åº—:",-1))),ze=["value"],Ke={class:"chart-controls"},Ze={class:"chart-container"};function Ye(e,t,o,l,r,i){const d=(0,n.g2)("TopNavbar");return(0,n.uX)(),(0,n.CE)("div",We,[(0,n.bF)(d,{onExport:e.exportChart},null,8,["onExport"]),(0,n.Lk)("div",Oe,[He,(0,n.bo)((0,n.Lk)("select",{id:"branch-select","onUpdate:modelValue":t[0]||(t[0]=e=>r.selectedBranch=e),onChange:t[1]||(t[1]=(...e)=>i.onBranchChange&&i.onBranchChange(...e))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.branches,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.branch_id,value:e.branch_id},(0,s.v_)(e.branch_name),9,ze)))),128))],544),[[a.u1,r.selectedBranch]])]),(0,n.Lk)("div",Ke,[(0,n.Lk)("button",{onClick:t[2]||(t[2]=e=>i.setCurrentChart("RevenueChart"))},"ç‡Ÿæ¥­é¡"),(0,n.Lk)("button",{onClick:t[3]||(t[3]=e=>i.setCurrentChart("SalesChart"))},"éŠ·å”®é¡"),(0,n.Lk)("button",{onClick:t[4]||(t[4]=e=>i.setCurrentChart("InventoryChart"))},"åº«å­˜é‡")]),(0,n.Lk)("div",Ze,[((0,n.uX)(),(0,n.Wv)((0,n.$y)(r.currentChart),{"branch-id":r.selectedBranch},null,8,["branch-id"]))])])}const Ge={ref:"chartCanvas"};function et(e,t,o,a,s,l){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("canvas",Ge,null,512)])}var tt=o(6912);tt.t1.register(tt.ZT,tt.No,tt.FN,tt.kc,tt.hE,tt.m_,tt.s$,tt.PP);var ot={name:"SalesChart",data(){return{chartData:{labels:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],datasets:[{label:"Sales",backgroundColor:"#f87979",data:[40,20,12,39,10,40,39,80,40,39,80,40]}]}}},mounted(){this.renderChart()},methods:{renderChart(){const e=this.$refs.chartCanvas.getContext("2d");new tt.t1(e,{type:"line",data:this.chartData,options:{responsive:!0,maintainAspectRatio:!1}})}}};const at=(0,h.A)(ot,[["render",et],["__scopeId","data-v-209edd30"]]);var nt=at;const st={ref:"chartCanvas"};function lt(e,t,o,a,s,l){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("canvas",st,null,512)])}tt.t1.register(tt.h9,tt.FN,tt.kc,tt.PP,tt.hE,tt.m_,tt.s$);var rt={name:"RevenueChart",data(){return{chartData:{labels:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],datasets:[{label:"Revenue",backgroundColor:"#f87979",data:[30,10,5,25,15,30,25,60,30,25,60,30]}]}}},mounted(){this.renderChart()},methods:{renderChart(){const e=this.$refs.chartCanvas.getContext("2d");new tt.t1(e,{type:"line",data:this.chartData,options:{responsive:!0,maintainAspectRatio:!1}})}}};const it=(0,h.A)(rt,[["render",lt],["__scopeId","data-v-0e8ecbd9"]]);var dt=it;const ct={ref:"chartCanvas"};function ut(e,t,o,a,s,l){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("canvas",ct,null,512)])}tt.t1.register(tt.hE,tt.m_,tt.s$,tt.E8,tt.No,tt.FN,tt.kc,tt.PP,tt.Bs);var pt={name:"InventoryChart",data(){return{chartData:{labels:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],datasets:[{label:"Inventory",backgroundColor:"#f87979",data:[50,25,18,45,20,50,45,100,50,45,100,50]}]}}},mounted(){this.renderChart()},methods:{renderChart(){const e=this.$refs.chartCanvas.getContext("2d");new tt.t1(e,{type:"line",data:this.chartData,options:{responsive:!0,maintainAspectRatio:!1}})}}};const ht=(0,h.A)(pt,[["render",ut],["__scopeId","data-v-5529035a"]]);var mt=ht,kt={name:"HomePage",components:{TopNavbar:k,SalesChart:nt,RevenueChart:dt,InventoryChart:mt},data(){return{currentChart:"SalesChart",branches:[],selectedBranch:null}},methods:{async fetchBranches(){try{const e=await M.A.get("/api/frontend/branches/");this.branches=e.data,this.selectedBranch=this.branches.length>0?this.branches[0].branch_id:null}catch(e){console.error("Error fetching branches:",e)}},setCurrentChart(e){this.currentChart=e},onBranchChange(){console.log("Selected branch:",this.selectedBranch)}},async mounted(){await this.fetchBranches()}};const bt=(0,h.A)(kt,[["render",Ye],["__scopeId","data-v-15c846fa"]]);var ft=bt;const vt=e=>((0,n.Qi)("data-v-31e6815b"),e=e(),(0,n.jt)(),e),Lt={class:"profile-container"},gt={class:"profile-card"},Ct=vt((()=>(0,n.Lk)("div",{class:"profile-image"},[(0,n.Lk)("img",{src:"https://via.placeholder.com/150",alt:"Profile Image"})],-1))),wt={class:"profile-info"},yt={key:0,class:"edit-modal"},_t={class:"edit-form"},Mt=vt((()=>(0,n.Lk)("h3",null,"ç·¨è¼¯å€‹äººä¿¡æ¯",-1))),Pt={class:"button-container"};function Et(e,t,o,l,r,i){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",Lt,[(0,n.Lk)("div",gt,[Ct,(0,n.Lk)("div",wt,[(0,n.Lk)("h2",null,(0,s.v_)(r.userData.username||"N/A"),1),(0,n.Lk)("p",null,(0,s.v_)(r.userData.position_id||"N/A"),1),(0,n.Lk)("p",null,(0,s.v_)(r.userData.department_id||"N/A"),1),(0,n.Lk)("p",null,(0,s.v_)(r.userData.email||"N/A"),1),(0,n.Lk)("p",null,(0,s.v_)(r.userData.phone||"N/A"),1),(0,n.Lk)("button",{class:"edit-button",onClick:t[0]||(t[0]=(...e)=>i.editProfile&&i.editProfile(...e))},"ç·¨è¼¯")])]),r.isEditing?((0,n.uX)(),(0,n.CE)("div",yt,[(0,n.Lk)("div",_t,[Mt,(0,n.Lk)("p",null,[(0,n.eW)("ç”¨æˆ¶åï¼š"),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>r.editData.username=e)},null,512),[[a.Jo,r.editData.username]])]),(0,n.Lk)("p",null,[(0,n.eW)("éƒ¨é–€ï¼š"),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>r.editData.department_id=e),disabled:""},null,512),[[a.Jo,r.editData.department_id]])]),(0,n.Lk)("p",null,[(0,n.eW)("è·ä½ï¼š"),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>r.editData.position_id=e),disabled:""},null,512),[[a.Jo,r.editData.position_id]])]),(0,n.Lk)("p",null,[(0,n.eW)("é›»è©±ï¼š"),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>r.editData.phone=e)},null,512),[[a.Jo,r.editData.phone]])]),(0,n.Lk)("p",null,[(0,n.eW)("é›»å­éƒµä»¶ï¼š"),(0,n.bo)((0,n.Lk)("input",{type:"email","onUpdate:modelValue":t[5]||(t[5]=e=>r.editData.email=e)},null,512),[[a.Jo,r.editData.email]])]),(0,n.Lk)("div",Pt,[(0,n.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>i.saveProfile&&i.saveProfile(...e)),class:"save"},"ä¿å­˜"),(0,n.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>i.cancelEdit&&i.cancelEdit(...e)),class:"cancel"},"å–æ¶ˆ")])])])):(0,n.Q3)("",!0)])])}var Rt={data(){return{userData:{username:"",email:"",phone:"",department_id:"",position_id:""},editData:{},isEditing:!1}},methods:{async fetchUserProfile(){try{const e=await M.A.get("/api/frontend/profile/");this.userData=e.data}catch(e){console.error("Error fetching user profile:",e)}},editProfile(){this.editData={...this.userData},this.isEditing=!0},cancelEdit(){this.isEditing=!1},async saveProfile(){try{await M.A.put("/api/frontend/profile/",this.editData),this.userData={...this.editData},this.isEditing=!1,alert("å€‹äººä¿¡æ¯å·²æ›´æ–°")}catch(e){console.error("Error saving profile:",e),alert("ä¿å­˜å¤±æ•—")}}},mounted(){this.fetchUserProfile()}};const At=(0,h.A)(Rt,[["render",Et],["__scopeId","data-v-31e6815b"]]);var St=At;const Ut=e=>((0,n.Qi)("data-v-28377fb8"),e=e(),(0,n.jt)(),e),Vt={class:"account-settings-page"},Ft={class:"main-panel"},xt={class:"container"},Xt={class:"account-settings"},$t=Ut((()=>(0,n.Lk)("img",{class:"profile-pic",src:"https://via.placeholder.com/100",alt:"Profile Picture"},null,-1))),It=Ut((()=>(0,n.Lk)("h3",null,"wang",-1))),Tt=Ut((()=>(0,n.Lk)("img",{src:"https://img.icons8.com/ios-filled/50/000000/lock.png",alt:"ä¿®æ”¹å¯†ç¢¼"},null,-1))),Dt=Ut((()=>(0,n.Lk)("img",{src:"https://img.icons8.com/ios-filled/50/000000/settings.png",alt:"åå¥½è¨­å®š"},null,-1)));function Qt(e,t,o,a,s,l){const r=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",Vt,[(0,n.Lk)("div",Ft,[(0,n.Lk)("div",xt,[(0,n.Lk)("div",Xt,[$t,It,(0,n.bF)(r,{to:"/frontend/changepassword",class:"setting-option"},{default:(0,n.k6)((()=>[Tt,(0,n.eW)(" ä¿®æ”¹å¯†ç¢¼ ")])),_:1}),(0,n.bF)(r,{to:"/frontend/preferences",class:"setting-option"},{default:(0,n.k6)((()=>[Dt,(0,n.eW)(" åå¥½è¨­å®š ")])),_:1})])])])])}var Bt={name:"AccountSettings"};const Jt=(0,h.A)(Bt,[["render",Qt],["__scopeId","data-v-28377fb8"]]);var Nt=Jt;const jt=e=>((0,n.Qi)("data-v-9431db84"),e=e(),(0,n.jt)(),e),qt=jt((()=>(0,n.Lk)("h2",null,"ä¿®æ”¹å¯†ç¢¼",-1))),Wt=jt((()=>(0,n.Lk)("label",{for:"currentPassword"},"ç•¶å‰å¯†ç¢¼",-1))),Ot=jt((()=>(0,n.Lk)("label",{for:"newPassword"},"æ–°å¯†ç¢¼",-1))),Ht=jt((()=>(0,n.Lk)("label",{for:"confirmPassword"},"ç¢ºèªæ–°å¯†ç¢¼",-1))),zt=jt((()=>(0,n.Lk)("button",{type:"submit"},"ä¿®æ”¹å¯†ç¢¼",-1))),Kt={key:0};function Zt(e,t,o,l,r,i){return(0,n.uX)(),(0,n.CE)("div",null,[qt,(0,n.Lk)("form",{onSubmit:t[3]||(t[3]=(0,a.D$)(((...e)=>i.changePassword&&i.changePassword(...e)),["prevent"]))},[(0,n.Lk)("div",null,[Wt,(0,n.bo)((0,n.Lk)("input",{type:"password","onUpdate:modelValue":t[0]||(t[0]=e=>r.currentPassword=e),required:""},null,512),[[a.Jo,r.currentPassword]])]),(0,n.Lk)("div",null,[Ot,(0,n.bo)((0,n.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>r.newPassword=e),required:""},null,512),[[a.Jo,r.newPassword]])]),(0,n.Lk)("div",null,[Ht,(0,n.bo)((0,n.Lk)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>r.confirmPassword=e),required:""},null,512),[[a.Jo,r.confirmPassword]])]),zt],32),r.errorMessage?((0,n.uX)(),(0,n.CE)("p",Kt,(0,s.v_)(r.errorMessage),1)):(0,n.Q3)("",!0)])}var Yt={data(){return{currentPassword:"",newPassword:"",confirmPassword:"",errorMessage:""}},methods:{async changePassword(){if(this.newPassword===this.confirmPassword)try{const e=await M.A.post("/api/frontend/changepassword/",{current_password:this.currentPassword,new_password:this.newPassword});alert(e.data.message),hu.push("/login")}catch(e){this.errorMessage=e.response?.data?.message||"å¯†ç¢¼ä¿®æ”¹å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦"}else this.errorMessage="æ–°å¯†ç¢¼èˆ‡ç¢ºèªå¯†ç¢¼ä¸åŒ¹é…"}}};const Gt=(0,h.A)(Yt,[["render",Zt],["__scopeId","data-v-9431db84"]]);var eo=Gt;const to=e=>((0,n.Qi)("data-v-3800d4fe"),e=e(),(0,n.jt)(),e),oo={class:"app-container"},ao=to((()=>(0,n.Lk)("h1",{class:"title"},"å€‹äººåå¥½ç®¡ç†",-1))),no={class:"form-group"},so=to((()=>(0,n.Lk)("label",{for:"font-size"},"å­—é«”å¤§å°:",-1))),lo=to((()=>(0,n.Lk)("option",{value:"small"},"å°",-1))),ro=to((()=>(0,n.Lk)("option",{value:"medium"},"ä¸­",-1))),io=to((()=>(0,n.Lk)("option",{value:"large"},"å¤§",-1))),co=[lo,ro,io],uo={class:"form-group"},po=to((()=>(0,n.Lk)("label",{for:"notification-settings"},"é€šçŸ¥:",-1))),ho=to((()=>(0,n.Lk)("option",{value:1},"å•Ÿç”¨",-1))),mo=to((()=>(0,n.Lk)("option",{value:0},"ä¸å•Ÿç”¨",-1))),ko=[ho,mo],bo={class:"form-group"},fo=to((()=>(0,n.Lk)("label",{for:"auto-login"},"è‡ªå‹•ç™»å…¥:",-1))),vo=to((()=>(0,n.Lk)("option",{value:1},"å•Ÿç”¨",-1))),Lo=to((()=>(0,n.Lk)("option",{value:0},"ä¸å•Ÿç”¨",-1))),go=[vo,Lo],Co={class:"form-group"},wo=to((()=>(0,n.Lk)("label",{for:"authentication"},"æ˜¯å¦é©—è­‰:",-1))),yo=to((()=>(0,n.Lk)("option",{value:1},"å·²é©—è­‰",-1))),_o=to((()=>(0,n.Lk)("option",{value:0},"æœªé©—è­‰",-1))),Mo=[yo,_o],Po={class:"btn-container"},Eo=to((()=>(0,n.Lk)("button",{type:"submit",class:"btn btn-save"},"ä¿å­˜æ›´æ”¹",-1))),Ro={key:0,class:"success-message"},Ao={key:1,class:"modal"},So={class:"modal-content"},Uo=to((()=>(0,n.Lk)("h2",{class:"title"},"æ–°å¢å€‹äººåå¥½",-1))),Vo={class:"form-group"},Fo=to((()=>(0,n.Lk)("label",{for:"add-font-size"},"å­—é«”å¤§å°:",-1))),xo=to((()=>(0,n.Lk)("option",{value:"small"},"å°",-1))),Xo=to((()=>(0,n.Lk)("option",{value:"medium"},"ä¸­",-1))),$o=to((()=>(0,n.Lk)("option",{value:"large"},"å¤§",-1))),Io=[xo,Xo,$o],To={class:"form-group"},Do=to((()=>(0,n.Lk)("label",{for:"add-notifications"},"é€šçŸ¥:",-1))),Qo=to((()=>(0,n.Lk)("option",{value:1},"å•Ÿç”¨",-1))),Bo=to((()=>(0,n.Lk)("option",{value:0},"ä¸å•Ÿç”¨",-1))),Jo=[Qo,Bo],No={class:"form-group"},jo=to((()=>(0,n.Lk)("label",{for:"add-auto-login"},"è‡ªå‹•ç™»å…¥:",-1))),qo=to((()=>(0,n.Lk)("option",{value:1},"å•Ÿç”¨",-1))),Wo=to((()=>(0,n.Lk)("option",{value:0},"ä¸å•Ÿç”¨",-1))),Oo=[qo,Wo],Ho={class:"form-group"},zo=to((()=>(0,n.Lk)("label",{for:"add-authentication"},"æ˜¯å¦é©—è­‰:",-1))),Ko=to((()=>(0,n.Lk)("option",{value:1},"å·²é©—è­‰",-1))),Zo=to((()=>(0,n.Lk)("option",{value:0},"æœªé©—è­‰",-1))),Yo=[Ko,Zo],Go={class:"btn-container"},ea=to((()=>(0,n.Lk)("button",{type:"submit",class:"btn btn-save"},"ä¿å­˜",-1)));function ta(e,t,o,l,r,i){return(0,n.uX)(),(0,n.CE)("div",oo,[(0,n.Lk)("div",{class:(0,s.C4)(["app-content",{shifted:r.isSidebarActive}])},[ao,(0,n.Lk)("form",{onSubmit:t[7]||(t[7]=(0,a.D$)(((...e)=>i.updatePreferences&&i.updatePreferences(...e)),["prevent"])),class:"preferences-form"},[(0,n.Lk)("div",no,[so,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.preferences.fontsize=e),id:"font-size",class:"form-control"},co,512),[[a.u1,r.preferences.fontsize]])]),(0,n.Lk)("div",uo,[po,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.preferences.notificationSettings=e),id:"notification-settings",class:"form-control"},ko,512),[[a.u1,r.preferences.notificationSettings]])]),(0,n.Lk)("div",bo,[fo,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.preferences.autoLogin=e),id:"auto-login",class:"form-control"},go,512),[[a.u1,r.preferences.autoLogin]])]),(0,n.Lk)("div",Co,[wo,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.preferences.authentication=e),id:"authentication",class:"form-control"},Mo,512),[[a.u1,r.preferences.authentication]])]),(0,n.Lk)("div",Po,[Eo,(0,n.Lk)("button",{type:"button",class:"btn btn-add",onClick:t[4]||(t[4]=(...e)=>i.showAddModal&&i.showAddModal(...e))},"æ–°å¢"),(0,n.Lk)("button",{type:"button",class:"btn btn-delete",onClick:t[5]||(t[5]=(...e)=>i.deletePreference&&i.deletePreference(...e))},"åˆªé™¤"),(0,n.Lk)("button",{type:"button",class:"btn btn-cancel",onClick:t[6]||(t[6]=(...e)=>i.resetPreferences&&i.resetPreferences(...e))},"å–æ¶ˆæ›´æ”¹")])],32),r.successMessage?((0,n.uX)(),(0,n.CE)("div",Ro,"ä¿å­˜æˆåŠŸï¼")):(0,n.Q3)("",!0),r.showModal?((0,n.uX)(),(0,n.CE)("div",Ao,[(0,n.Lk)("div",So,[(0,n.Lk)("span",{class:"close",onClick:t[8]||(t[8]=(...e)=>i.closeAddModal&&i.closeAddModal(...e))},"Ã—"),Uo,(0,n.Lk)("form",{onSubmit:t[14]||(t[14]=(0,a.D$)(((...e)=>i.addPreference&&i.addPreference(...e)),["prevent"])),class:"preferences-form"},[(0,n.Lk)("div",Vo,[Fo,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>r.newPreference.fontsize=e),id:"add-font-size",class:"form-control"},Io,512),[[a.u1,r.newPreference.fontsize]])]),(0,n.Lk)("div",To,[Do,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[10]||(t[10]=e=>r.newPreference.notificationSettings=e),id:"add-notifications",class:"form-control"},Jo,512),[[a.u1,r.newPreference.notificationSettings]])]),(0,n.Lk)("div",No,[jo,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[11]||(t[11]=e=>r.newPreference.autoLogin=e),id:"add-auto-login",class:"form-control"},Oo,512),[[a.u1,r.newPreference.autoLogin]])]),(0,n.Lk)("div",Ho,[zo,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[12]||(t[12]=e=>r.newPreference.authentication=e),id:"add-authentication",class:"form-control"},Yo,512),[[a.u1,r.newPreference.authentication]])]),(0,n.Lk)("div",Go,[ea,(0,n.Lk)("button",{type:"button",class:"btn btn-cancel",onClick:t[13]||(t[13]=(...e)=>i.closeAddModal&&i.closeAddModal(...e))},"å–æ¶ˆ")])],32)])])):(0,n.Q3)("",!0)],2)])}var oa={name:"PersonalPreference",data(){return{preferences:{user_id:null,fontsize:"",notificationSettings:0,autoLogin:0,authentication:0},newPreference:{fontsize:"medium",notificationSettings:0,autoLogin:0,authentication:0},successMessage:!1,showModal:!1,isSidebarActive:!1}},created(){this.loadPreferences()},methods:{loadPreferences(){M.A.get("/api/user_preferences/").then((e=>{this.preferences=e.data})).catch((e=>{console.error("Error loading preferences:",e)}))},updatePreferences(){M.A.post("/api/user_preferences/",this.preferences).then((e=>{200===e.status?this.showSuccessMessage():alert("ä¿å­˜å¤±æ•—")})).catch((e=>{console.error("Error updating preferences:",e)}))},showAddModal(){this.showModal=!0},closeAddModal(){this.showModal=!1},addPreference(){M.A.post("/api/user_preferences/",this.newPreference).then((e=>{200===e.status?(this.closeAddModal(),this.showSuccessMessage()):alert("æ–°å¢å¤±æ•—")})).catch((e=>{console.error("Error adding preference:",e)}))},deletePreference(){M.A.post("/api/user_preferences/",{user_id:this.preferences.user_id}).then((e=>{200===e.status?this.showSuccessMessage():alert("åˆªé™¤å¤±æ•—")})).catch((e=>{console.error("Error deleting preference:",e)}))},resetPreferences(){this.loadPreferences()},showSuccessMessage(){this.successMessage=!0,setTimeout((()=>{this.successMessage=!1}),3e3)}}};const aa=(0,h.A)(oa,[["render",ta],["__scopeId","data-v-3800d4fe"]]);var na=aa;const sa=e=>((0,n.Qi)("data-v-4fd29d19"),e=e(),(0,n.jt)(),e),la={class:"history-page"},ra={class:"container"},ia={key:0,class:"no-history centered-content"},da=sa((()=>(0,n.Lk)("p",null,"æœªç™»å…¥ï¼Œç„¡ç´€éŒ„é¡¯ç¤ºã€‚",-1))),ca=[da],ua={key:1},pa={class:"search-container centered-content"},ha={class:"timeline centered-content",id:"timeline"},ma=["onClick"],ka={class:"timeline-panel"},ba={class:"timeline-heading"},fa={class:"timeline-body"},va={key:0},La={class:"timeline-user"};function ga(e,t,o,l,r,i){const d=(0,n.g2)("SidebarPage");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(d),(0,n.Lk)("div",la,[(0,n.Lk)("div",ra,[r.isLoggedIn?((0,n.uX)(),(0,n.CE)("div",ua,[(0,n.Lk)("div",pa,[(0,n.bo)((0,n.Lk)("input",{type:"text",id:"searchInput",placeholder:"æœå°‹ç´€éŒ„...","onUpdate:modelValue":t[0]||(t[0]=e=>r.searchQuery=e)},null,512),[[a.Jo,r.searchQuery]]),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...t)=>e.filterTimeline&&e.filterTimeline(...t))},"æœå°‹")]),(0,n.Lk)("ul",ha,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.filteredItems,(e=>((0,n.uX)(),(0,n.CE)("li",{class:"timeline-item",key:e.id,onClick:t=>i.showDetail(e.id)},[(0,n.Lk)("div",ka,[(0,n.Lk)("div",ba,[(0,n.Lk)("h4",null,(0,s.v_)(e.action_time),1)]),(0,n.Lk)("div",fa,[(0,n.Lk)("p",null,(0,s.v_)(e.action_description),1),e.additional_info?((0,n.uX)(),(0,n.CE)("p",va,"æ›´å¤šä¿¡æ¯: "+(0,s.v_)(e.additional_info),1)):(0,n.Q3)("",!0),(0,n.Lk)("div",La,"ä½¿ç”¨è€…: "+(0,s.v_)(e.user),1)])])],8,ma)))),128))])])):((0,n.uX)(),(0,n.CE)("div",ia,ca))])])])}var Ca={name:"HistoryPage",components:{SidebarPage:R},data(){return{searchQuery:"",items:[],isLoggedIn:!1}},computed:{filteredItems(){return this.items.filter((e=>{const t=this.searchQuery.trim().toUpperCase();return e.action_description.toUpperCase().includes(t)||e.action_time.includes(t)}))}},methods:{getCookie(e){let t=null;if(document.cookie&&""!==document.cookie){const o=document.cookie.split(";");for(let a=0;a<o.length;a++){const n=o[a].trim();if(n.substring(0,e.length+1)===e+"="){t=decodeURIComponent(n.substring(e.length+1));break}}}return t},async checkLoginStatus(){try{const e=this.getCookie("csrftoken"),t=await M.A.get("/api/frontend/check_login_status/",{headers:{"X-CSRFToken":e}});this.isLoggedIn=t.data.loggedIn,this.isLoggedIn&&this.fetchHistory()}catch(e){console.error("Login status check failed:",e)}},async fetchHistory(){try{const e=this.getCookie("csrftoken"),t=await M.A.get("/api/frontend/history/",{headers:{"X-CSRFToken":e}});this.items=t.data}catch(e){console.error("ç„¡æ³•ç²å–æ­·å²è¨˜éŒ„:",e)}},showDetail(e){this.$router.push(`/frontend/detail/${e}`)}},mounted(){this.checkLoginStatus()}};const wa=(0,h.A)(Ca,[["render",ga],["__scopeId","data-v-4fd29d19"]]);var ya=wa;const _a=e=>((0,n.Qi)("data-v-4400e6c9"),e=e(),(0,n.jt)(),e),Ma={class:"history-details"},Pa={class:"container"},Ea={key:0,class:"details-container"},Ra={class:"details-content"},Aa={key:0},Sa={key:1},Ua={key:1},Va=_a((()=>(0,n.Lk)("p",null,"æœªæ‰¾åˆ°è©²ç´€éŒ„çš„è©³ç´°ä¿¡æ¯ã€‚",-1))),Fa=[Va],xa={class:"back-btn"};function Xa(e,t,o,a,l,r){return(0,n.uX)(),(0,n.CE)("div",Ma,[(0,n.Lk)("div",Pa,[l.detail&&!l.detail.error?((0,n.uX)(),(0,n.CE)("div",Ea,[(0,n.Lk)("h2",null,(0,s.v_)(l.detail.timestamp),1),(0,n.Lk)("div",Ra,[(0,n.Lk)("p",null,"æ“ä½œï¼š"+(0,s.v_)(l.detail.action),1),(0,n.Lk)("p",null,"æ™‚é–“ï¼š"+(0,s.v_)(l.detail.timestamp),1),(0,n.Lk)("p",null,"ä½¿ç”¨è€…ï¼š"+(0,s.v_)(l.detail.user),1),l.detail.device&&l.detail.device.brand?((0,n.uX)(),(0,n.CE)("p",Aa,"è¨­å‚™å“ç‰Œï¼š"+(0,s.v_)(l.detail.device.brand),1)):(0,n.Q3)("",!0),l.detail.device&&l.detail.device.type?((0,n.uX)(),(0,n.CE)("p",Sa,"è¨­å‚™é¡å‹ï¼š"+(0,s.v_)(l.detail.device.type),1)):(0,n.Q3)("",!0),(0,n.Lk)("p",null,[(0,n.eW)("æ“ä½œçµæœï¼š"),(0,n.Lk)("span",{class:(0,s.C4)({success:l.detail.success,fail:!l.detail.success})},(0,s.v_)(l.detail.success?"æˆåŠŸ":"å¤±æ•—"),3)])])])):((0,n.uX)(),(0,n.CE)("div",Ua,Fa)),(0,n.Lk)("div",xa,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.goBack&&r.goBack(...e))},"è¿”å›ä¸Šä¸€é ")])])])}var $a={data(){return{detail:null}},mounted(){const e=parseInt(this.$route.params.id);this.fetchDetail(e)},methods:{fetchDetail(e){M.A.get(`/api/frontend/history/${e}/`).then((e=>{this.detail=e.data})).catch((()=>{this.detail={error:"æœªæ‰¾åˆ°è©²ç´€éŒ„çš„è©³ç´°ä¿¡æ¯ã€‚"}}))},goBack(){this.$router.go(-1)}}};const Ia=(0,h.A)($a,[["render",Xa],["__scopeId","data-v-4400e6c9"]]);var Ta=Ia;const Da=e=>((0,n.Qi)("data-v-6fb118f9"),e=e(),(0,n.jt)(),e),Qa={class:"manager-home"},Ba=Da((()=>(0,n.Lk)("h1",null,"ç¶“ç†å„€è¡¨æ¿",-1))),Ja=Da((()=>(0,n.Lk)("p",null,"æ­¡è¿ä¾†åˆ°ç¶“ç†å„€è¡¨æ¿ã€‚é€™è£¡æ‚¨å¯ä»¥æŸ¥çœ‹æ‰€æœ‰åˆ†åº—çš„æ•¸æ“šã€‚",-1))),Na=[Ba,Ja];function ja(e,t,o,a,s,l){return(0,n.uX)(),(0,n.CE)("div",Qa,Na)}var qa={name:"ManagerHome",data(){return{}},methods:{}};const Wa=(0,h.A)(qa,[["render",ja],["__scopeId","data-v-6fb118f9"]]);var Oa=Wa;const Ha=e=>((0,n.Qi)("data-v-6c10a5f6"),e=e(),(0,n.jt)(),e),za={class:"branch-manager-home"},Ka=Ha((()=>(0,n.Lk)("h1",null,"åº—é•·å„€è¡¨æ¿",-1))),Za=Ha((()=>(0,n.Lk)("p",null,"æ­¡è¿ä¾†åˆ°åº—é•·å„€è¡¨æ¿ã€‚é€™è£¡æ‚¨å¯ä»¥æŸ¥çœ‹æ‚¨æ‰€åœ¨åˆ†åº—çš„æ•¸æ“šã€‚",-1))),Ya=[Ka,Za];function Ga(e,t,o,a,s,l){return(0,n.uX)(),(0,n.CE)("div",za,Ya)}var en={name:"BranchManagerHome",data(){return{}},methods:{}};const tn=(0,h.A)(en,[["render",Ga],["__scopeId","data-v-6c10a5f6"]]);var on=tn;const an=e=>((0,n.Qi)("data-v-646b7517"),e=e(),(0,n.jt)(),e),nn={class:"container"},sn=an((()=>(0,n.Lk)("h2",null,"ç™»å…¥",-1))),ln=an((()=>(0,n.Lk)("input",{type:"hidden",name:"next",value:"/backend/management"},null,-1))),rn={class:"form-group"},dn=an((()=>(0,n.Lk)("label",{for:"email"},"å¸³è™Ÿ:",-1))),cn={class:"form-group"},un=an((()=>(0,n.Lk)("label",{for:"password"},"å¯†ç¢¼:",-1))),pn={class:"form-group checkbox-group"},hn=an((()=>(0,n.Lk)("label",{for:"remember_me"},"è¨˜ä½æˆ‘",-1))),mn=an((()=>(0,n.Lk)("button",{type:"submit",class:"btn-login"},"ç™»å…¥",-1))),kn={key:0};function bn(e,t,o,l,r,i){const d=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",nn,[sn,(0,n.Lk)("form",{onSubmit:t[3]||(t[3]=(0,a.D$)(((...e)=>i.login&&i.login(...e)),["prevent"]))},[ln,(0,n.Lk)("div",rn,[dn,(0,n.bo)((0,n.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>r.email=e),required:""},null,512),[[a.Jo,r.email]])]),(0,n.Lk)("div",cn,[un,(0,n.bo)((0,n.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),required:""},null,512),[[a.Jo,r.password]])]),(0,n.Lk)("div",pn,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox",id:"remember_me","onUpdate:modelValue":t[2]||(t[2]=e=>r.rememberMe=e)},null,512),[[a.lH,r.rememberMe]]),hn]),mn],32),(0,n.Lk)("p",null,[(0,n.eW)(" é‚„æœªæ“æœ‰å¸³è™Ÿ? "),(0,n.bF)(d,{to:"/backend/register"},{default:(0,n.k6)((()=>[(0,n.eW)("è¨»å†Š")])),_:1})]),(0,n.Lk)("p",null,[(0,n.eW)(" å¿˜è¨˜å¯†ç¢¼? "),(0,n.bF)(d,{to:"/frontend/forgot_password"},{default:(0,n.k6)((()=>[(0,n.eW)("é‡ç½®å¯†ç¢¼")])),_:1})]),r.error?((0,n.uX)(),(0,n.CE)("p",kn,(0,s.v_)(r.error),1)):(0,n.Q3)("",!0)])}function fn(e){let t=null;if(document.cookie&&""!==document.cookie){const o=document.cookie.split(";");for(let a=0;a<o.length;a++){const n=o[a].trim();if(n.substring(0,e.length+1)===e+"="){t=decodeURIComponent(n.substring(e.length+1));break}}}return t}M.A.defaults.baseURL="http://localhost:8000",M.A.defaults.withCredentials=!0,M.A.defaults.headers.common["X-CSRFToken"]=fn("csrftoken"),M.A.interceptors.request.use((e=>{const t=localStorage.getItem("token");t&&(e.headers["Authorization"]=`Bearer ${t}`);const o=fn("csrftoken");return o&&(e.headers["X-CSRFToken"]=o),e}),(e=>Promise.reject(e)));var vn=M.A,Ln={name:"AppLogin",data(){return{email:"",password:"",rememberMe:!1,error:""}},methods:{async login(){try{const e=gn("csrftoken"),t=await vn.post("/api/token/",{email:this.email,password:this.password,remember_me:this.rememberMe},{headers:{"X-CSRFToken":e}});console.log("ç™»å…¥æˆåŠŸ",t),localStorage.setItem("token",t.data.access),this.$router.push("/backend/management")}catch(e){console.error("ç™»å…¥å¤±è´¥",e.response),e.response&&e.response.data?this.error=e.response.data.detail||"ç™»å…¥å¤±æ•—ï¼Œè«‹æª¢æŸ¥æ‚¨çš„ä½¿ç”¨è€…åç¨±å’Œå¯†ç¢¼":this.error="ç™»å…¥å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦"}}}};function gn(e){let t=null;if(document.cookie&&""!==document.cookie){const o=document.cookie.split(";");for(let a=0;a<o.length;a++){const n=o[a].trim();if(n.substring(0,e.length+1)===e+"="){t=decodeURIComponent(n.substring(e.length+1));break}}}return t}const Cn=(0,h.A)(Ln,[["render",bn],["__scopeId","data-v-646b7517"]]);var wn=Cn;const yn=e=>((0,n.Qi)("data-v-60d05882"),e=e(),(0,n.jt)(),e),_n={class:"content",id:"content"},Mn={class:"container"},Pn=yn((()=>(0,n.Lk)("h2",null,"è¨»å†Š",-1))),En=yn((()=>(0,n.Lk)("label",{for:"username"},"ç”¨æˆ¶å",-1))),Rn=yn((()=>(0,n.Lk)("label",{for:"email"},"é›»å­éƒµä»¶",-1))),An=yn((()=>(0,n.Lk)("label",{for:"verification_code"},"é©—è­‰ç¢¼",-1))),Sn=yn((()=>(0,n.Lk)("label",{for:"password"},"å¯†ç¢¼",-1))),Un={class:"password-container"},Vn=yn((()=>(0,n.Lk)("div",{class:"password-example"},"å¯†ç¢¼å¿…é ˆåŒ…å«è‡³å°‘8å€‹å­—ç¬¦ï¼Œä¸”åŒ…æ‹¬å¤§å°å¯«å­—æ¯ã€æ•¸å­—å’Œç‰¹æ®Šå­—ç¬¦ã€‚ä¾‹å¦‚ï¼šPassword@123",-1))),Fn=yn((()=>(0,n.Lk)("label",{for:"confirm_password"},"ç¢ºèªå¯†ç¢¼",-1))),xn={class:"password-container"},Xn=yn((()=>(0,n.Lk)("label",{for:"phone"},"é›»è©±è™Ÿç¢¼",-1))),$n=yn((()=>(0,n.Lk)("input",{type:"submit",value:"è¨»å†Š",class:"submit-button"},null,-1)));function In(e,t,o,l,r,i){return(0,n.uX)(),(0,n.CE)("div",_n,[(0,n.Lk)("div",Mn,[Pn,(0,n.Lk)("form",{onSubmit:t[9]||(t[9]=(0,a.D$)(((...e)=>i.handleSubmit&&i.handleSubmit(...e)),["prevent"]))},[En,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>r.username=e),required:""},null,512),[[a.Jo,r.username]]),Rn,(0,n.bo)((0,n.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=e=>r.email=e),required:""},null,512),[[a.Jo,r.email]]),(0,n.Lk)("button",{type:"button",onClick:t[2]||(t[2]=(...e)=>i.getVerificationCode&&i.getVerificationCode(...e))},"ç²å–é©—è­‰ç¢¼"),(0,n.Lk)("div",{id:"verification-feedback",class:(0,s.C4)({feedback:!0,success:r.feedbackSuccess,error:!r.feedbackSuccess})},(0,s.v_)(r.verificationFeedback),3),An,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"verification_code","onUpdate:modelValue":t[3]||(t[3]=e=>r.verificationCode=e),required:""},null,512),[[a.Jo,r.verificationCode]]),Sn,(0,n.Lk)("div",Un,[(0,n.bo)((0,n.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[4]||(t[4]=e=>r.password=e),required:""},null,512),[[a.Jo,r.password]]),(0,n.Lk)("span",{class:"toggle-password",onClick:t[5]||(t[5]=(...e)=>i.handleTogglePassword&&i.handleTogglePassword(...e))},"ğŸ‘ï¸")]),Vn,Fn,(0,n.Lk)("div",xn,[(0,n.bo)((0,n.Lk)("input",{type:"password",id:"confirm_password","onUpdate:modelValue":t[6]||(t[6]=e=>r.confirmPassword=e),required:""},null,512),[[a.Jo,r.confirmPassword]]),(0,n.Lk)("span",{class:"toggle-password",onClick:t[7]||(t[7]=(...e)=>i.handleTogglePassword&&i.handleTogglePassword(...e))},"ğŸ‘ï¸")]),Xn,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"phone","onUpdate:modelValue":t[8]||(t[8]=e=>r.phone=e),required:""},null,512),[[a.Jo,r.phone]]),$n],32)])])}var Tn={name:"BackendRegister",data(){return{username:"",email:"",password:"",confirmPassword:"",phone:"",verificationCode:"",verificationFeedback:"",feedbackSuccess:!1,csrfToken:""}},methods:{setAxiosCsrfToken(e){M.A.defaults.headers.common["X-CSRFToken"]=e},async fetchCsrfToken(){try{const e=await M.A.get("http://127.0.0.1:8000/frontend/register/",{withCredentials:!0});this.csrfToken=e.data.csrfToken,this.setAxiosCsrfToken(this.csrfToken)}catch(e){console.error("Failed to fetch CSRF Token:",e)}},async getVerificationCode(){if(this.validateEmail(this.email))try{const e=await M.A.post("http://127.0.0.1:8000/frontend/send-verification-code/",{email:this.email},{headers:{"X-CSRFToken":this.csrfToken},withCredentials:!0});this.feedbackSuccess=e.data.success,this.verificationFeedback=e.data.success?"é©—è­‰ç¢¼å·²ç™¼é€åˆ°æ‚¨çš„é›»å­éƒµä»¶ï¼Œæœ‰æ•ˆæœŸé™5åˆ†é˜ã€‚":e.data.message||"ç„¡æ³•ç™¼é€é©—è­‰ç¢¼ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚"}catch(e){this.feedbackSuccess=!1,this.verificationFeedback="ç„¡æ³•ç™¼é€é©—è­‰ç¢¼ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚"}else alert("è«‹è¼¸å…¥æœ‰æ•ˆçš„é›»å­éƒµä»¶åœ°å€ã€‚")},validateEmail(e){const t=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;return t.test(String(e).toLowerCase())},validatePassword(e){const t=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;return t.test(e)},handleTogglePassword(e){const t=e.target.previousElementSibling;t.type="password"===t.type?"text":"password"},async handleSubmit(){if(this.password===this.confirmPassword)if(this.validatePassword(this.password))try{const e=await M.A.post("http://127.0.0.1:8000/frontend/register/",{username:this.username,email:this.email,password:this.password,confirmPassword:this.confirmPassword,phone:this.phone,verificationCode:this.verificationCode},{headers:{"X-CSRFToken":this.csrfToken},withCredentials:!0});e.data.success?(alert("è¨»å†ŠæˆåŠŸï¼"),this.$router.push("/backend/login")):alert(e.data.message||"è¨»å†Šå¤±æ•—ï¼Œè«‹é‡è©¦ã€‚")}catch(e){alert("è¨»å†Šå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚")}else alert("å¯†ç¢¼å¿…é ˆåŒ…å«è‡³å°‘8å€‹å­—ç¬¦ï¼Œä¸”åŒ…æ‹¬å¤§å°å¯«å­—æ¯ã€æ•¸å­—å’Œç‰¹æ®Šå­—ç¬¦ã€‚ä¾‹å¦‚ï¼šPassword@123");else alert("å¯†ç¢¼èˆ‡ç¢ºèªå¯†ç¢¼ä¸åŒ¹é…ã€‚")}},created(){this.fetchCsrfToken()}};const Dn=(0,h.A)(Tn,[["render",In],["__scopeId","data-v-60d05882"]]);var Qn=Dn;const Bn=e=>((0,n.Qi)("data-v-2d1476f6"),e=e(),(0,n.jt)(),e),Jn={class:"container"},Nn=Bn((()=>(0,n.Lk)("h2",null,"å¿˜è¨˜å¯†ç¢¼",-1))),jn=Bn((()=>(0,n.Lk)("label",{for:"email"},"é›»å­éƒµä»¶ï¼š",-1))),qn=Bn((()=>(0,n.Lk)("button",{type:"submit"},"ç™¼é€",-1)));function Wn(e,t,o,s,l,r){return(0,n.uX)(),(0,n.CE)("div",Jn,[Nn,(0,n.Lk)("form",{onSubmit:t[1]||(t[1]=(0,a.D$)(((...e)=>r.sendPasswordReset&&r.sendPasswordReset(...e)),["prevent"]))},[jn,(0,n.bo)((0,n.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>l.email=e),required:""},null,512),[[a.Jo,l.email]]),qn],32)])}var On={name:"ForgetPasswordPage",data(){return{email:""}},methods:{sendPasswordReset(){this.email?alert("å·²ç™¼é€å¯†ç¢¼é‡è¨­è«‹æ±‚è‡³æ‚¨çš„é›»å­éƒµä»¶"):alert("è«‹è¼¸å…¥æœ‰æ•ˆçš„é›»å­éƒµä»¶åœ°å€")}}};const Hn=(0,h.A)(On,[["render",Wn],["__scopeId","data-v-2d1476f6"]]);var zn=Hn;const Kn=e=>((0,n.Qi)("data-v-226d2503"),e=e(),(0,n.jt)(),e),Zn={key:0},Yn=Kn((()=>(0,n.Lk)("h1",{id:"welcome-title"},"æ­¡è¿ä¾†åˆ°ç®¡ç†ä»‹é¢",-1))),Gn=Kn((()=>(0,n.Lk)("p",{id:"welcome-description"},"è«‹é¸æ“‡ä¸€å€‹é¸é …ä¾†ç®¡ç†ã€‚",-1))),es=[Yn,Gn];function ts(e,t,o,a,l,r){const i=(0,n.g2)("Sidebar"),d=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(i,{isSidebarActive:a.isSidebarActive,onToggleSidebar:a.toggleSidebar},null,8,["isSidebarActive","onToggleSidebar"]),(0,n.Lk)("div",{class:(0,s.C4)(["main-content",{shifted:a.isSidebarActive}])},[(0,n.bF)(d,null,{default:(0,n.k6)((({Component:e})=>[e?((0,n.uX)(),(0,n.Wv)((0,n.$y)(e),{key:0})):(0,n.Q3)("",!0)])),_:1}),a.hasRouteComponent?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",Zn,es))],2)])}var os=o(144),as={name:"AppManagement",components:{Sidebar:$},setup(){const e=(0,os.KR)(!1),t=(0,Q.lq)(),o=(0,os.KR)(!1);(0,n.wB)(t,(e=>{o.value=e.matched.length>1}),{immediate:!0});const a=()=>{e.value=!e.value};return{isSidebarActive:e,toggleSidebar:a,hasRouteComponent:o}}};const ns=(0,h.A)(as,[["render",ts],["__scopeId","data-v-226d2503"]]);var ss=ns;const ls=e=>((0,n.Qi)("data-v-5dad52ca"),e=e(),(0,n.jt)(),e),rs={class:"dashboard-container"},is={class:"header"},ds=ls((()=>(0,n.Lk)("h2",null,"å„€è¡¨æ¿ç®¡ç†",-1))),cs={class:"chart-actions"},us={class:"selection-container"},ps={class:"module-selection"},hs=ls((()=>(0,n.Lk)("label",{for:"module-select"},"é¸æ“‡æ¨¡çµ„:",-1))),ms=["value"],ks={class:"role-selection"},bs=ls((()=>(0,n.Lk)("label",{for:"role-select"},"é¸æ“‡è§’è‰²:",-1))),fs=["value"],vs=["onClick"],Ls={class:"chart-container"};function gs(e,t,o,l,r,i){const d=(0,n.g2)("draggable"),c=(0,n.g2)("Modal");return(0,n.uX)(),(0,n.CE)("div",rs,[(0,n.Lk)("div",is,[ds,(0,n.Lk)("div",cs,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=e=>i.openChartModal(!1))},"æ–°å¢åœ–è¡¨"),(0,n.Lk)("button",{onClick:t[1]||(t[1]=e=>i.openChartModal(!0))},"ç·¨è¼¯åœ–è¡¨")])]),(0,n.Lk)("div",us,[(0,n.Lk)("div",ps,[hs,(0,n.bo)((0,n.Lk)("select",{id:"module-select","onUpdate:modelValue":t[2]||(t[2]=e=>r.selectedModule=e),onChange:t[3]||(t[3]=(...e)=>i.onModuleChange&&i.onModuleChange(...e))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.modules,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.id,value:e.id},(0,s.v_)(e.name),9,ms)))),128))],544),[[a.u1,r.selectedModule]])]),(0,n.Lk)("div",ks,[bs,(0,n.bo)((0,n.Lk)("select",{id:"role-select","onUpdate:modelValue":t[4]||(t[4]=e=>r.selectedRole=e),onChange:t[5]||(t[5]=(...e)=>i.onRoleChange&&i.onRoleChange(...e))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.roles,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.id,value:e.id},(0,s.v_)(e.name),9,fs)))),128))],544),[[a.u1,r.selectedRole]])])]),(0,n.bF)(d,{modelValue:r.charts,"onUpdate:modelValue":t[6]||(t[6]=e=>r.charts=e),onEnd:i.onDragEnd},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.charts,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.name,class:"chart-selection"},[(0,n.Lk)("button",{onClick:t=>i.setCurrentChart(e.name)},(0,s.v_)(e.label),9,vs)])))),128))])),_:1},8,["modelValue","onEnd"]),(0,n.Lk)("div",Ls,[((0,n.uX)(),(0,n.Wv)((0,n.$y)(r.currentChart),{"role-id":r.selectedRole},null,8,["role-id"]))]),r.showChartModal?((0,n.uX)(),(0,n.Wv)(c,{key:0,isEditing:r.isEditing,onClose:i.closeChartModal},null,8,["isEditing","onClose"])):(0,n.Q3)("",!0)])}var Cs=o(1527),ws=o.n(Cs);const ys={ref:"chartCanvas"};function _s(e,t,o,a,s,l){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("canvas",ys,null,512)])}tt.t1.register(tt.h9,tt.FN,tt.kc,tt.PP,tt.hE,tt.m_,tt.s$);var Ms={name:"RevenueChartSecond",data(){return{chartData:{labels:["Q1","Q2","Q3","Q4"],datasets:[{label:"Revenue",backgroundColor:"#ff6384",borderColor:"#ff6384",data:[{x:10,y:20},{x:15,y:10},{x:20,y:25},{x:30,y:35}]}]}}},mounted(){this.renderChart()},methods:{renderChart(){const e=this.$refs.chartCanvas.getContext("2d");new tt.t1(e,{type:"scatter",data:this.chartData,options:{responsive:!0,maintainAspectRatio:!1}})}}};const Ps=(0,h.A)(Ms,[["render",_s],["__scopeId","data-v-44ac314c"]]);var Es=Ps;const Rs={ref:"chartCanvas"};function As(e,t,o,a,s,l){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("canvas",Rs,null,512)])}tt.t1.register(tt.h9,tt.FN,tt.kc,tt.PP,tt.hE,tt.m_,tt.s$);var Ss={name:"InventoryChartSecond",data(){return{chartData:{labels:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],datasets:[{label:"Inventory",backgroundColor:"rgba(34,202,236,0.2)",borderColor:"rgba(34,202,236,1)",pointBackgroundColor:"rgba(34,202,236,1)",data:[50,25,18,45,20,50,45,100,50,45,100,50]}]}}},mounted(){this.renderChart()},methods:{renderChart(){const e=this.$refs.chartCanvas.getContext("2d");new tt.t1(e,{type:"radar",data:this.chartData,options:{responsive:!0,maintainAspectRatio:!1}})}}};const Us=(0,h.A)(Ss,[["render",As],["__scopeId","data-v-18392751"]]);var Vs=Us;const Fs=e=>((0,n.Qi)("data-v-ea844386"),e=e(),(0,n.jt)(),e),xs={class:"chart-modal-container"},Xs={class:"chart-modal"},$s={class:"chart-modal-header"},Is={class:"chart-modal-body"},Ts={class:"chart-settings"},Ds={class:"setting"},Qs=Fs((()=>(0,n.Lk)("label",{for:"chart-style"},"åœ–è¡¨é¡å‹",-1))),Bs=(0,n.Fv)('<option value="bar" data-v-ea844386>æŸ±ç‹€åœ–</option><option value="line" data-v-ea844386>æŠ˜ç·šåœ–</option><option value="pie" data-v-ea844386>åœ“é¤…åœ–</option><option value="radar" data-v-ea844386>é›·é”åœ–</option><option value="scatter" data-v-ea844386>æ•£é»åœ–</option>',5),Js=[Bs],Ns={class:"setting"},js=Fs((()=>(0,n.Lk)("label",{for:"chart-name"},"åœ–è¡¨åç¨±",-1))),qs={class:"setting"},Ws=Fs((()=>(0,n.Lk)("label",{for:"show-labels"},"é¡¯ç¤ºæ•¸æ“šæ¨™ç±¤",-1))),Os={class:"setting"},Hs=Fs((()=>(0,n.Lk)("label",{for:"chart-color"},"åœ–è¡¨é¡è‰²",-1))),zs={class:"setting"},Ks=Fs((()=>(0,n.Lk)("label",{for:"x-axis-label"},"Xè»¸æ¨™ç±¤",-1))),Zs={class:"setting"},Ys=Fs((()=>(0,n.Lk)("label",{for:"y-axis-label"},"Yè»¸æ¨™ç±¤",-1))),Gs=Fs((()=>(0,n.Lk)("div",{class:"chart-preview"},[(0,n.Lk)("h3",null,"é è¦½"),(0,n.Lk)("div",{id:"chart-container"})],-1))),el={class:"chart-modal-footer"};function tl(e,t,o,l,r,i){return(0,n.uX)(),(0,n.CE)("div",xs,[(0,n.Lk)("div",Xs,[(0,n.Lk)("div",$s,[(0,n.Lk)("h2",null,(0,s.v_)(o.isEditing?"ç·¨è¼¯åœ–è¡¨":"æ–°å¢åœ–è¡¨"),1),(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.closeModal&&i.closeModal(...e)),class:"close-btn"},"Ã—")]),(0,n.Lk)("div",Is,[(0,n.Lk)("div",Ts,[(0,n.Lk)("div",Ds,[Qs,(0,n.bo)((0,n.Lk)("select",{id:"chart-style","onUpdate:modelValue":t[1]||(t[1]=e=>r.chartData.style=e)},Js,512),[[a.u1,r.chartData.style]])]),(0,n.Lk)("div",Ns,[js,(0,n.bo)((0,n.Lk)("input",{id:"chart-name","onUpdate:modelValue":t[2]||(t[2]=e=>r.chartData.name=e),type:"text",placeholder:"è¼¸å…¥åœ–è¡¨åç¨±"},null,512),[[a.Jo,r.chartData.name]])]),(0,n.Lk)("div",qs,[Ws,(0,n.bo)((0,n.Lk)("input",{id:"show-labels",type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=e=>r.chartData.showLabels=e)},null,512),[[a.lH,r.chartData.showLabels]])]),(0,n.Lk)("div",Os,[Hs,(0,n.bo)((0,n.Lk)("input",{id:"chart-color",type:"color","onUpdate:modelValue":t[4]||(t[4]=e=>r.chartData.color=e)},null,512),[[a.Jo,r.chartData.color]])]),(0,n.Lk)("div",zs,[Ks,(0,n.bo)((0,n.Lk)("input",{id:"x-axis-label","onUpdate:modelValue":t[5]||(t[5]=e=>r.chartData.xAxisLabel=e),type:"text",placeholder:"è¼¸å…¥Xè»¸æ¨™ç±¤"},null,512),[[a.Jo,r.chartData.xAxisLabel]])]),(0,n.Lk)("div",Zs,[Ys,(0,n.bo)((0,n.Lk)("input",{id:"y-axis-label","onUpdate:modelValue":t[6]||(t[6]=e=>r.chartData.yAxisLabel=e),type:"text",placeholder:"è¼¸å…¥Yè»¸æ¨™ç±¤"},null,512),[[a.Jo,r.chartData.yAxisLabel]])])]),Gs]),(0,n.Lk)("div",el,[(0,n.Lk)("button",{class:"btn-save",onClick:t[7]||(t[7]=(...e)=>i.saveChart&&i.saveChart(...e))},(0,s.v_)(o.isEditing?"ä¿å­˜è®Šæ›´":"æ–°å¢åœ–è¡¨"),1),(0,n.Lk)("button",{class:"btn-cancel",onClick:t[8]||(t[8]=(...e)=>i.closeModal&&i.closeModal(...e))},"å–æ¶ˆ")])])])}var ol={props:{isEditing:Boolean},data(){return{chartData:{style:"bar",name:"",showLabels:!0,color:"#007BFF",xAxisLabel:"",yAxisLabel:""}}},methods:{saveChart(){this.isEditing?console.log("ä¿å­˜åœ–è¡¨è®Šæ›´"):console.log("æ–°å¢æ–°åœ–è¡¨"),this.closeModal()},closeModal(){this.$emit("close")}}};const al=(0,h.A)(ol,[["render",tl],["__scopeId","data-v-ea844386"]]);var nl=al,sl={name:"DashboardManager",components:{draggable:ws(),SalesChart:nt,RevenueChart:dt,RevenueSC:Es,InventoryChart:mt,InventorySC:Vs,Modal:nl},data(){return{currentChart:"SalesChart",modules:[],roles:[],selectedModule:null,selectedRole:null,showChartModal:!1,isEditing:!1,charts:[{name:"SalesChart",label:"éŠ·å”®é¡"},{name:"RevenueChart",label:"ç‡Ÿæ¥­é¡"},{name:"InventoryChart",label:"åº«å­˜é‡"}],newChart:{type:"bar",name:""},editChart:{type:"bar",name:""}}},methods:{async fetchModules(){try{const e=await vn.get("/api/backend/modules/");this.modules=e.data,this.selectedModule=this.modules.length>0?this.modules[0].id:null}catch(e){console.error("Error fetching modules:",e)}},async fetchRoles(){try{const e=await vn.get(`/api/backend/get_roles_by_module/${this.selectedModule}/`);this.roles=e.data,this.selectedRole=this.roles.length>0?this.roles[0].id:null}catch(e){console.error("Error fetching roles:",e)}},setCurrentChart(e){this.currentChart=e},onModuleChange(){this.fetchRoles()},onRoleChange(){console.log("é¸æ“‡çš„è§’è‰²:",this.selectedRole)},openChartModal(e){this.isEditing=e,this.showChartModal=!0},closeChartModal(){this.showChartModal=!1},async submitAddChartForm(){try{const e=await vn.post("/api/backend/charts/",this.newChart);console.log("æ–°å¢åœ–è¡¨æˆåŠŸ:",e.data),this.closeAddChartModal()}catch(e){console.error("æ–°å¢åœ–è¡¨å¤±æ•—:",e)}},openEditChartModal(){this.showEditChartModal=!0},closeEditChartModal(){this.showEditChartModal=!1},async submitEditChartForm(){try{const e=await vn.put(`/api/backend/charts/${this.editChart.id}/`,this.editChart);console.log("ç·¨è¼¯åœ–è¡¨æˆåŠŸ:",e.data),this.closeEditChartModal()}catch(e){console.error("ç·¨è¼¯åœ–è¡¨å¤±æ•—:",e)}},onDragEnd(){console.log("Charts reordered:",this.charts)}},async mounted(){await this.fetchModules(),await this.fetchRoles()}};const ll=(0,h.A)(sl,[["render",gs],["__scopeId","data-v-5dad52ca"]]);var rl=ll;const il=e=>((0,n.Qi)("data-v-4a404bd0"),e=e(),(0,n.jt)(),e),dl={class:"container"},cl={class:"header"},ul=il((()=>(0,n.Lk)("h2",null,"ç”¨æˆ¶ç®¡ç†",-1))),pl={class:"filter-section"},hl=il((()=>(0,n.Lk)("label",{for:"sort-select"},"æ’åº:",-1))),ml=(0,n.Fv)('<option value="name" data-v-4a404bd0>å§“å</option><option value="email" data-v-4a404bd0>é›»å­éƒµä»¶</option><option value="department" data-v-4a404bd0>éƒ¨é–€</option><option value="position" data-v-4a404bd0>è·ä½</option><option value="creation-time" data-v-4a404bd0>å»ºç«‹æ™‚é–“</option><option value="last-login" data-v-4a404bd0>æœ€è¿‘ç™»å…¥æ™‚é–“</option>',6),kl=[ml],bl=il((()=>(0,n.Lk)("label",{for:"department-select"},"éƒ¨é–€:",-1))),fl=il((()=>(0,n.Lk)("option",{value:"all"},"å…¨éƒ¨",-1))),vl=["value"],Ll={class:"user-table"},gl=il((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"å§“å"),(0,n.Lk)("th",null,"é›»å­éƒµä»¶"),(0,n.Lk)("th",null,"é›»è©±è™Ÿç¢¼"),(0,n.Lk)("th",null,"éƒ¨é–€"),(0,n.Lk)("th",null,"è·ä½"),(0,n.Lk)("th",null,"å»ºç«‹æ™‚é–“"),(0,n.Lk)("th",null,"æœ€è¿‘ç™»å…¥æ™‚é–“"),(0,n.Lk)("th",null,"æ“ä½œ")])],-1))),Cl=["onClick"],wl=["onClick"],yl=["onClick"];function _l(e,t,o,l,r,i){return(0,n.uX)(),(0,n.CE)("div",dl,[(0,n.Lk)("div",cl,[ul,(0,n.Lk)("button",{id:"pending-approval-btn",class:"pending-approval-btn",onClick:t[0]||(t[0]=(...e)=>i.navigateToPendingList&&i.navigateToPendingList(...e))},"å¾…å¯©æ ¸")]),(0,n.Lk)("div",pl,[hl,(0,n.bo)((0,n.Lk)("select",{id:"sort-select","onUpdate:modelValue":t[1]||(t[1]=e=>r.sortBy=e),onChange:t[2]||(t[2]=(...e)=>i.applyFilters&&i.applyFilters(...e))},kl,544),[[a.u1,r.sortBy]]),bl,(0,n.bo)((0,n.Lk)("select",{id:"department-select","onUpdate:modelValue":t[3]||(t[3]=e=>r.departmentFilter=e),onChange:t[4]||(t[4]=(...e)=>i.applyFilters&&i.applyFilters(...e))},[fl,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.departments,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,s.v_)(e),9,vl)))),128))],544),[[a.u1,r.departmentFilter]]),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"search-box",placeholder:"æœå°‹...","onUpdate:modelValue":t[5]||(t[5]=e=>r.query=e),onKeydown:t[6]||(t[6]=(0,a.jR)(((...e)=>i.applyFilters&&i.applyFilters(...e)),["enter"]))},null,544),[[a.Jo,r.query]]),(0,n.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>i.applyFilters&&i.applyFilters(...e)),class:"search-btn"},"æœå°‹")]),(0,n.Lk)("table",Ll,[gl,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.filteredUsers,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id},[(0,n.Lk)("td",null,(0,s.v_)(e.username),1),(0,n.Lk)("td",null,(0,s.v_)(e.email),1),(0,n.Lk)("td",null,(0,s.v_)(e.phone),1),(0,n.Lk)("td",null,(0,s.v_)(e.department_id),1),(0,n.Lk)("td",null,(0,s.v_)(e.position_id),1),(0,n.Lk)("td",null,(0,s.v_)(i.formatDate(e.date_joined)),1),(0,n.Lk)("td",null,(0,s.v_)(i.formatDate(e.last_login)),1),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"edit-btn",onClick:t=>i.navigateToEditUser(e.id)},"ç·¨è¼¯",8,Cl),(0,n.Lk)("button",{class:"delete-btn",onClick:t=>i.deleteUser(e.id)},"åˆªé™¤",8,wl),(0,n.Lk)("button",{class:"assigning-roles-btn",onClick:t=>i.navigateToAssignRole(e.id)},"åˆ†é…è§’è‰²",8,yl)])])))),128))])])])}var Ml={name:"UserManagement",data(){return{sortBy:"name",departmentFilter:"all",query:"",users:[],departments:["éŠ·å”®éƒ¨","äººåŠ›è³‡æºéƒ¨","è³‡è¨Šéƒ¨","æ¥­å‹™éƒ¨","è²¡å‹™éƒ¨"]}},computed:{filteredUsers(){let e=this.users;if("all"!==this.departmentFilter&&(e=e.filter((e=>e.department_id===this.departmentFilter))),this.query){const t=this.query.toLowerCase();e=e.filter((e=>e.username.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.phone.toLowerCase().includes(t)))}return e.sort(((e,t)=>"name"===this.sortBy?e.username.localeCompare(t.username):"email"===this.sortBy?e.email.localeCompare(t.email):"department"===this.sortBy?e.department_id.localeCompare(t.department_id):"position"===this.sortBy?e.position_id.localeCompare(t.position_id):"creation-time"===this.sortBy?new Date(e.date_joined)-new Date(t.date_joined):"last-login"===this.sortBy?new Date(e.last_login)-new Date(t.last_login):0))}},methods:{formatDate(e){return new Date(e).toLocaleString()},applyFilters(){console.log("Filters applied")},navigateToPendingList(){this.$router.push("/backend/pending_list")},navigateToEditUser(e){this.$router.push(`/backend/edit_user/${e}`)},navigateToAssignRole(e){this.$router.push(`/backend/assign_role/${e}`)},fetchUsers(){vn.get("/api/backend/users/").then((e=>{this.users=e.data.filter((e=>e.is_active))})).catch((e=>{console.error("Error fetching users:",e)}))},deleteUser(e){confirm("ç¢ºå®šè¦åˆªé™¤æ­¤ç”¨æˆ¶å—ï¼Ÿ")&&vn.delete(`/api/backend/delete_user/${e}/`).then((()=>{this.fetchUsers()})).catch((e=>{console.error("Error deleting user:",e)}))}},mounted(){this.fetchUsers()}};const Pl=(0,h.A)(Ml,[["render",_l],["__scopeId","data-v-4a404bd0"]]);var El=Pl;const Rl=e=>((0,n.Qi)("data-v-36c9f245"),e=e(),(0,n.jt)(),e),Al={class:"header"},Sl=Rl((()=>(0,n.Lk)("h2",null,"è§’è‰²ç®¡ç†",-1))),Ul=Rl((()=>(0,n.Lk)("option",{value:"all"},"æ‰€æœ‰æ¨¡çµ„",-1))),Vl=["value"],Fl={class:"role-table"},xl=Rl((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"è§’è‰²åç¨±"),(0,n.Lk)("th",null,"è§’è‰²ç‹€æ…‹"),(0,n.Lk)("th",null,"ç”¨æˆ¶æ•¸"),(0,n.Lk)("th",null,"è§’è‰²æˆå“¡"),(0,n.Lk)("th",null,"æ¨¡çµ„"),(0,n.Lk)("th",null,"æ“ä½œ")])],-1))),Xl={id:"role-tbody"},$l=["data-module"],Il={class:"switch"},Tl=["checked","onChange"],Dl=Rl((()=>(0,n.Lk)("span",{class:"slider"},null,-1))),Ql=["onUpdate:modelValue"],Bl=["value"],Jl=["onClick"],Nl=["onClick"];function jl(e,t,o,l,r,i){const d=(0,n.g2)("RoleForm"),c=(0,n.g2)("RoleModal");return(0,n.uX)(),(0,n.CE)("div",{class:(0,s.C4)(["container",{shifted:r.isSidebarActive}])},[(0,n.Lk)("div",Al,[Sl,(0,n.Lk)("button",{id:"add-role-btn",class:"btn add-role-btn",onClick:t[0]||(t[0]=(...e)=>i.openCreateRoleModal&&i.openCreateRoleModal(...e))},"æ–°å¢è§’è‰²"),(0,n.Lk)("button",{class:"btn",onClick:t[1]||(t[1]=(...e)=>i.navigateToRoleManagement&&i.navigateToRoleManagement(...e))},"è§’è‰²"),(0,n.Lk)("button",{class:"btn",onClick:t[2]||(t[2]=(...e)=>i.navigateToModuleManagement&&i.navigateToModuleManagement(...e))},"æ¨¡çµ„")]),(0,n.bF)(c,{isVisible:r.showCreateRoleModal,onClose:i.closeCreateRoleModal},{default:(0,n.k6)((()=>[(0,n.bF)(d,{onRoleSaved:i.fetchRoles,onClose:i.closeCreateRoleModal},null,8,["onRoleSaved","onClose"])])),_:1},8,["isVisible","onClose"]),(0,n.bo)((0,n.Lk)("select",{id:"chart-module-select","onUpdate:modelValue":t[3]||(t[3]=e=>r.selectedModule=e),onChange:t[4]||(t[4]=(...e)=>i.filterRolesByModule&&i.filterRolesByModule(...e))},[Ul,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.modules,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.id,value:e.id},(0,s.v_)(e.name),9,Vl)))),128))],544),[[a.u1,r.selectedModule]]),(0,n.Lk)("table",Fl,[xl,(0,n.Lk)("tbody",Xl,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.filteredRoles,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id,"data-module":e.module.id},[(0,n.Lk)("td",null,(0,s.v_)(e.name),1),(0,n.Lk)("td",null,[(0,n.Lk)("label",Il,[(0,n.Lk)("input",{type:"checkbox",checked:e.is_active,onChange:t=>i.toggleStatus(e.id,!e.is_active)},null,40,Tl),Dl])]),(0,n.Lk)("td",null,(0,s.v_)(e.users.length),1),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.selectedUser=t},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.users,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.id,value:e.id},(0,s.v_)(e.username),9,Bl)))),128))],8,Ql),[[a.u1,e.selectedUser]])]),(0,n.Lk)("td",null,(0,s.v_)(e.module_name?e.module_name:"æœªçŸ¥æ¨¡çµ„"),1),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"permissions-btn",onClick:t=>i.openEditRoleModal(e.id)}," ç·¨è¼¯è§’è‰² ",8,Jl),(0,n.Lk)("button",{class:"delete-btn",onClick:t=>i.deleteRole(e.id)}," åˆªé™¤ ",8,Nl)])],8,$l)))),128))])]),(0,n.bF)(c,{isVisible:r.showEditRoleModal,onClose:i.closeEditRoleModal},{default:(0,n.k6)((()=>[(0,n.bF)(d,{roleId:r.editingRoleId,onRoleSaved:i.fetchRoles,onClose:i.closeEditRoleModal},null,8,["roleId","onRoleSaved","onClose"])])),_:1},8,["isVisible","onClose"])],2)}const ql={key:0,class:"modal-overlay"},Wl={class:"modal"};function Ol(e,t,o,a,s,l){return o.isVisible?((0,n.uX)(),(0,n.CE)("div",ql,[(0,n.Lk)("div",Wl,[(0,n.Lk)("button",{class:"close-btn",onClick:t[0]||(t[0]=t=>e.$emit("close"))},"X"),(0,n.RG)(e.$slots,"default",{},void 0,!0)])])):(0,n.Q3)("",!0)}var Hl={name:"RoleModal",props:{isVisible:{type:Boolean,required:!0}},watch:{$route(e,t){"add-permission"===t.name&&"role-edit"===e.name&&this.$emit("close")}}};const zl=(0,h.A)(Hl,[["render",Ol],["__scopeId","data-v-a791de06"]]);var Kl=zl;const Zl=e=>((0,n.Qi)("data-v-2d6614fc"),e=e(),(0,n.jt)(),e),Yl={class:"container"},Gl={class:"form-group"},er=Zl((()=>(0,n.Lk)("label",{for:"role-name"},"è§’è‰²åç¨±",-1))),tr={class:"form-group"},or=Zl((()=>(0,n.Lk)("label",{for:"role-users"},"è§’è‰²æˆå“¡",-1))),ar={class:"member-container"},nr=["onUpdate:modelValue"],sr=Zl((()=>(0,n.Lk)("option",{value:""},"-- é¸æ“‡æˆå“¡ --",-1))),lr=["value"],rr=["onClick"],ir={class:"form-group"},dr=Zl((()=>(0,n.Lk)("label",{for:"role-is-active"},"è§’è‰²ç‹€æ…‹",-1))),cr={class:"form-group"},ur=Zl((()=>(0,n.Lk)("label",{for:"role-module"},"æ¨¡çµ„",-1))),pr=Zl((()=>(0,n.Lk)("option",{value:""},"-- é¸æ“‡æ¨¡çµ„ --",-1))),hr=["value"],mr={class:"form-group"},kr=Zl((()=>(0,n.Lk)("label",null,"è§’è‰²æ¬Šé™",-1))),br=Zl((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"åŠŸèƒ½"),(0,n.Lk)("th",null,"æ–°å¢"),(0,n.Lk)("th",null,"æŸ¥è©¢"),(0,n.Lk)("th",null,"æª¢è¦–"),(0,n.Lk)("th",null,"ä¿®æ”¹"),(0,n.Lk)("th",null,"åˆªé™¤"),(0,n.Lk)("th",null,"åˆ—å°"),(0,n.Lk)("th",null,"åŒ¯å‡º"),(0,n.Lk)("th",null,"ç¶­è­·"),(0,n.Lk)("th",null,"æ“ä½œ")])],-1))),fr=["onUpdate:modelValue"],vr=["onUpdate:modelValue"],Lr=["onUpdate:modelValue"],gr=["onUpdate:modelValue"],Cr=["onUpdate:modelValue"],wr=["onUpdate:modelValue"],yr=["onUpdate:modelValue"],_r=["onUpdate:modelValue"],Mr=["onClick"],Pr={type:"submit",class:"btn"};function Er(e,t,o,l,r,i){return(0,n.uX)(),(0,n.CE)("div",Yl,[(0,n.Lk)("h2",null,(0,s.v_)(r.isEdit?"ç·¨è¼¯è§’è‰²":"æ–°å¢è§’è‰²"),1),(0,n.Lk)("form",{onSubmit:t[7]||(t[7]=(0,a.D$)(((...e)=>i.saveRole&&i.saveRole(...e)),["prevent"]))},[(0,n.Lk)("div",Gl,[er,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>r.localRole.name=e),id:"role-name",required:""},null,512),[[a.Jo,r.localRole.name]])]),(0,n.Lk)("div",tr,[or,(0,n.Lk)("div",ar,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.localRole.users,((e,o)=>((0,n.uX)(),(0,n.CE)("div",{key:o,class:"member-item"},[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e=>r.localRole.users[o]=e,onChange:t[1]||(t[1]=(...e)=>i.updateMembers&&i.updateMembers(...e))},[sr,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.availableUsers,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.id,value:e.id},(0,s.v_)(e.username),9,lr)))),128))],40,nr),[[a.u1,r.localRole.users[o]]]),(0,n.Lk)("button",{type:"button",onClick:e=>i.removeMember(o)},"-",8,rr)])))),128)),(0,n.Lk)("button",{type:"button",onClick:t[2]||(t[2]=(...e)=>i.addMember&&i.addMember(...e))},"+")])]),(0,n.Lk)("div",ir,[dr,(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=e=>r.localRole.is_active=e),id:"role-is-active"},null,512),[[a.lH,r.localRole.is_active]])]),(0,n.Lk)("div",cr,[ur,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>r.localRole.module=e),id:"role-module"},[pr,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.availableModules,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.id,value:e.id},(0,s.v_)(e.name),9,hr)))),128))],512),[[a.u1,r.localRole.module]])]),(0,n.Lk)("div",mr,[kr,(0,n.Lk)("table",null,[br,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.rolePermissions,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id},[(0,n.Lk)("td",null,(0,s.v_)(e.permission_name),1),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.can_add=t},null,8,fr),[[a.lH,e.can_add]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.can_query=t},null,8,vr),[[a.lH,e.can_query]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.can_view=t},null,8,Lr),[[a.lH,e.can_view]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.can_edit=t},null,8,gr),[[a.lH,e.can_edit]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.can_delete=t},null,8,Cr),[[a.lH,e.can_delete]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.can_print=t},null,8,wr),[[a.lH,e.can_print]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.can_export=t},null,8,yr),[[a.lH,e.can_export]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.can_maintain=t},null,8,_r),[[a.lH,e.can_maintain]])]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",onClick:t=>i.deletePermission(e.id)},"åˆªé™¤",8,Mr)])])))),128))])]),(0,n.Lk)("button",{type:"button",onClick:t[5]||(t[5]=(...e)=>i.navigateToAddPermission&&i.navigateToAddPermission(...e))},"æ–°å¢æ¬Šé™")]),(0,n.Lk)("button",Pr,(0,s.v_)(r.isEdit?"ä¿å­˜è®Šæ›´":"æ–°å¢"),1),(0,n.Lk)("button",{type:"button",class:"btn secondary",onClick:t[6]||(t[6]=(...e)=>i.cancel&&i.cancel(...e))},"å–æ¶ˆ")],32)])}var Rr={name:"RoleForm",props:{roleId:{type:Number,default:null}},data(){return{localRole:{name:"",module:"",users:[],is_active:!1},availableUsers:[],availableModules:[],rolePermission:[],isEdit:!1}},methods:{async saveRole(){try{const e={...this.localRole,users:this.localRole.users,permissions:this.rolePermissions};console.log("Sending role data:",e);const t=this.isEdit?await vn.put(`/api/backend/roles/${this.localRole.id}/`,e):await vn.post("/api/backend/roles/",e);200===t.status||201===t.status?(alert("ä¿å­˜æˆåŠŸ"),await this.fetchRolePermissions(this.localRole.id),this.$emit("role-saved"),this.$emit("close")):alert("ä¿å­˜å¤±æ•—")}catch(e){console.error("Error saving role:",e.response?e.response.data:e.message),alert("ä¿å­˜å¤±æ•—")}},async fetchUsers(){try{const e=await vn.get("/api/backend/users/");this.availableUsers=e.data}catch(e){console.error("Error fetching users:",e)}},async fetchModules(){try{const e=await vn.get("/api/backend/modules/");this.availableModules=e.data,console.log("Avaliable Modules:",this.availableModules)}catch(e){console.error("Error fetching modules:",e)}},addMember(){this.localRole.users.push("")},removeMember(e){this.localRole.users.splice(e,1)},updateMembers(){this.$forceUpdate()},cancel(){this.$emit("close")},async fetchRolePermissions(e){try{const t=await vn.get(`/api/backend/role_permissions/?role_id=${e}`);this.rolePermissions=t.data}catch(t){console.error("Error fetching role permissions:",t)}},navigateToAddPermission(){this.$router.push(`/backend/role_permissions/${this.localRole.id}/`)},async deletePermission(e){try{const t=await vn.delete(`/api/backend/role_permissions/${e}/`);204===t.status?(this.rolePermissions=this.rolePermissions.filter((t=>t.id!==e)),this.$forceUpdate(),alert("åˆªé™¤æˆåŠŸ")):alert("åˆªé™¤å¤±æ•—")}catch(t){console.error("åˆªé™¤æ¬Šé™æ™‚å‡ºéŒ¯:",t.response?t.response.data:t.message),alert("åˆªé™¤å¤±æ•—")}},async loadRole(e){try{const t=await vn.get(`/api/backend/roles/${e}/`),o=t.data;console.log("APIè¿”å›çš„Role:",o),this.localRole={id:o.id,name:o.name,module:o.module?o.module:"",users:o.users.map((e=>e.id)),is_active:o.is_active},console.log("å½“å‰è§’è‰²æ¨¡å— ID:",this.localRole.module),await this.fetchRolePermissions(e),this.updateMembers(),this.$nextTick((()=>{console.log("DOM æ›´æ–°å®Œæˆï¼Œæ¨¡å—å·²åŠ è½½:",this.localRole.module)}))}catch(t){console.error("åŠ è½½è§’è‰²ä¿¡æ¯æ—¶å‡ºé”™:",t.response?t.response.data:t.message)}}},async mounted(){await this.fetchModules(),await this.fetchUsers(),this.roleId&&(this.isEdit=!0,await this.loadRole(this.roleId))}};const Ar=(0,h.A)(Rr,[["render",Er],["__scopeId","data-v-2d6614fc"]]);var Sr=Ar,Ur={name:"RoleManagement",components:{RoleModal:Kl,RoleForm:Sr},data(){return{roles:[],modules:[],selectedModule:"all",showCreateRoleModal:!1,showEditRoleModal:!1,editingRoleId:null,isSidebarActive:!1}},computed:{filteredRoles(){return"all"===this.selectedModule?this.roles:this.roles.filter((e=>e.module==this.selectedModule))}},methods:{fetchRoles(){vn.get("/api/backend/roles/").then((e=>{this.roles=e.data.map((e=>({...e,selectedUser:e.users.length?e.users[0].id:null})))})).catch((e=>{console.error("Error fetching roles:",e)}))},fetchModules(){vn.get("/api/backend/modules/").then((e=>{this.modules=e.data.filter((e=>!e.is_deleted))})).catch((e=>{console.error("Error fetching modules:",e)}))},filterRolesByModule(){this.filteredRoles},openCreateRoleModal(){this.showCreateRoleModal=!0},closeCreateRoleModal(){this.showCreateRoleModal=!1},openEditRoleModal(e){this.editingRoleId=e,this.showEditRoleModal=!0},closeEditRoleModal(){this.showEditRoleModal=!1,this.editingRoleId=null},toggleStatus(e,t){vn.post(`/api/backend/toggle_role_status/${e}/`,{is_active:t}).then((e=>{e.data.success?this.fetchRoles():alert("åˆ‡æ›ç‹€æ…‹å¤±æ•—")})).catch((e=>{console.error("Error toggling status:",e),alert("åˆ‡æ›ç‹€æ…‹å¤±æ•—")}))},navigateToRoleManagement(){this.$router.push("/backend/role-management")},navigateToModuleManagement(){this.$router.push("/backend/module-management")},deleteRole(e){confirm("ç¢ºå®šè¦åˆªé™¤æ­¤è§’è‰²å—ï¼Ÿ")&&vn.post(`/api/backend/delete_role/${e}/`).then((()=>{this.fetchRoles()})).catch((e=>{console.error("Error deleting role:",e),alert("åˆªé™¤è§’è‰²å¤±æ•—")}))}},mounted(){this.fetchRoles(),this.fetchModules()}};const Vr=(0,h.A)(Ur,[["render",jl],["__scopeId","data-v-36c9f245"]]);var Fr=Vr;const xr=e=>((0,n.Qi)("data-v-11b3bd14"),e=e(),(0,n.jt)(),e),Xr={class:"container"},$r=xr((()=>(0,n.Lk)("a",{href:"/backend/user-management",class:"back-button"},[(0,n.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,n.Lk)("path",{d:"M15 18L9 12L15 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]),(0,n.eW)(" å›åˆ°ç”¨æˆ¶ç®¡ç† ")],-1))),Ir=xr((()=>(0,n.Lk)("h1",null,"å¾…å¯©æ ¸åå–®",-1))),Tr={class:"pending-table"},Dr=xr((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"å§“å"),(0,n.Lk)("th",null,"é›»å­éƒµä»¶"),(0,n.Lk)("th",null,"é›»è©±è™Ÿç¢¼"),(0,n.Lk)("th",null,"ç”³è«‹æ™‚é–“"),(0,n.Lk)("th",null,"å¯©æ ¸")])],-1))),Qr=["onSubmit"],Br=xr((()=>(0,n.Lk)("button",{type:"submit",class:"approve-btn"},"é–‹é€š",-1))),Jr=[Br];function Nr(e,t,o,l,r,i){return(0,n.uX)(),(0,n.CE)("div",Xr,[$r,Ir,(0,n.Lk)("table",Tr,[Dr,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.pendingUsers,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id},[(0,n.Lk)("td",null,(0,s.v_)(e.username),1),(0,n.Lk)("td",null,(0,s.v_)(e.email),1),(0,n.Lk)("td",null,(0,s.v_)(e.phone),1),(0,n.Lk)("td",null,(0,s.v_)(e.date_joined?e.date_joined:"æœªçŸ¥"),1),(0,n.Lk)("td",null,[(0,n.Lk)("form",{onSubmit:(0,a.D$)((t=>i.approveUser(e.id)),["prevent"])},Jr,40,Qr)])])))),128))])])])}var jr={name:"PendingList",data(){return{pendingUsers:[]}},methods:{async fetchPendingUsers(){try{const e=await vn.get("/api/backend/pending-users/");this.pendingUsers=e.data}catch(e){console.error("Error fetching pending users:",e)}},async approveUser(e){try{const t=await vn.post(`/backend/approve_user/${e}/`);t.data.success?(alert("ç”¨æˆ¶å·²æˆåŠŸé–‹é€šï¼"),this.fetchPendingUsers()):alert("ç„¡æ³•é–‹é€šç”¨æˆ¶ï¼Œè«‹é‡è©¦ã€‚")}catch(t){console.error("Error approving user:",t),alert("ç„¡æ³•é–‹é€šç”¨æˆ¶ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚")}}},mounted(){this.fetchPendingUsers()}};const qr=(0,h.A)(jr,[["render",Nr],["__scopeId","data-v-11b3bd14"]]);var Wr=qr;const Or=e=>((0,n.Qi)("data-v-3bcfd6c0"),e=e(),(0,n.jt)(),e),Hr={class:"container"},zr=Or((()=>(0,n.Lk)("h2",null,"ç·¨è¼¯ç”¨æˆ¶",-1))),Kr={class:"form-group"},Zr=Or((()=>(0,n.Lk)("label",{for:"username"},"å§“å",-1))),Yr={class:"form-group"},Gr=Or((()=>(0,n.Lk)("label",{for:"email"},"é›»å­éƒµä»¶",-1))),ei={class:"form-group"},ti=Or((()=>(0,n.Lk)("label",{for:"phone"},"é›»è©±è™Ÿç¢¼",-1))),oi={class:"form-group"},ai=Or((()=>(0,n.Lk)("label",{for:"department"},"éƒ¨é–€",-1))),ni=Or((()=>(0,n.Lk)("option",{value:""},"é¸æ“‡éƒ¨é–€",-1))),si=["value"],li={class:"form-group"},ri=Or((()=>(0,n.Lk)("label",{for:"position"},"è·ä½",-1))),ii=Or((()=>(0,n.Lk)("option",{value:""},"é¸æ“‡è·ä½",-1))),di=["value"],ci={class:"form-group"},ui=Or((()=>(0,n.Lk)("button",{type:"submit",class:"btn-save"},"å„²å­˜",-1)));function pi(e,t,o,l,r,i){return(0,n.uX)(),(0,n.CE)("div",Hr,[zr,(0,n.Lk)("form",{onSubmit:t[6]||(t[6]=(0,a.D$)(((...e)=>i.updateUser&&i.updateUser(...e)),["prevent"]))},[(0,n.Lk)("div",Kr,[Zr,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>r.user.username=e),required:""},null,512),[[a.Jo,r.user.username]])]),(0,n.Lk)("div",Yr,[Gr,(0,n.bo)((0,n.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=e=>r.user.email=e),required:""},null,512),[[a.Jo,r.user.email]])]),(0,n.Lk)("div",ei,[ti,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"phone","onUpdate:modelValue":t[2]||(t[2]=e=>r.user.phone=e),required:""},null,512),[[a.Jo,r.user.phone]])]),(0,n.Lk)("div",oi,[ai,(0,n.bo)((0,n.Lk)("select",{id:"department","onUpdate:modelValue":t[3]||(t[3]=e=>r.user.department_id=e)},[ni,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.departments,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,s.v_)(e),9,si)))),128))],512),[[a.u1,r.user.department_id]])]),(0,n.Lk)("div",li,[ri,(0,n.bo)((0,n.Lk)("select",{id:"position","onUpdate:modelValue":t[4]||(t[4]=e=>r.user.position_id=e)},[ii,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.positions,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,s.v_)(e),9,di)))),128))],512),[[a.u1,r.user.position_id]])]),(0,n.Lk)("div",ci,[ui,(0,n.Lk)("button",{type:"button",class:"btn-cancel",onClick:t[5]||(t[5]=(...e)=>i.cancelEdit&&i.cancelEdit(...e))},"å–æ¶ˆ")])],32)])}var hi={name:"EditUser",data(){return{user:{username:"",email:"",phone:"",department_id:"",position_id:""},departments:["éŠ·å”®éƒ¨","äººåŠ›è³‡æºéƒ¨","è³‡è¨Šéƒ¨","æ¥­å‹™éƒ¨","è²¡å‹™éƒ¨"],positions:["ç¶“ç†","ä¸»ç®¡","å“¡å·¥"]}},methods:{fetchUser(){const e=this.$route.params.userId;vn.get(`/api/backend/users/${e}/`).then((e=>{this.user=e.data})).catch((e=>{console.error("Error fetching user:",e)}))},updateUser(){const e=this.$route.params.userId;vn.put(`/api/backend/users/${e}/`,this.user).then((()=>{this.$router.push("/backend/user-management")})).catch((e=>{console.error("Error updating user:",e)}))},cancelEdit(){this.$router.push("/backend/user-management")}},mounted(){this.fetchUser()}};const mi=(0,h.A)(hi,[["render",pi],["__scopeId","data-v-3bcfd6c0"]]);var ki=mi;const bi=e=>((0,n.Qi)("data-v-114ec4b6"),e=e(),(0,n.jt)(),e),fi={class:"container"},vi=bi((()=>(0,n.Lk)("label",{for:"module"},"é¸æ“‡æ¨¡çµ„:",-1))),Li=bi((()=>(0,n.Lk)("option",{value:""},"-- é¸æ“‡æ¨¡çµ„ --",-1))),gi=["value"],Ci=bi((()=>(0,n.Lk)("label",{for:"role"},"é¸æ“‡è§’è‰²:",-1))),wi=bi((()=>(0,n.Lk)("option",{value:""},"-- é¸æ“‡è§’è‰² --",-1))),yi=["value"],_i=bi((()=>(0,n.Lk)("button",{type:"submit"},"ä¿å­˜",-1)));function Mi(e,t,o,l,r,i){return(0,n.uX)(),(0,n.CE)("div",fi,[(0,n.Lk)("h2",null,"åˆ†é…è§’è‰²å’Œæ¨¡çµ„çµ¦ "+(0,s.v_)(r.user.username),1),(0,n.Lk)("form",{onSubmit:t[3]||(t[3]=(0,a.D$)(((...e)=>i.assignRoleAndModule&&i.assignRoleAndModule(...e)),["prevent"]))},[vi,(0,n.bo)((0,n.Lk)("select",{id:"module","onUpdate:modelValue":t[0]||(t[0]=e=>r.selectedModule=e),onChange:t[1]||(t[1]=(...e)=>i.loadRoles&&i.loadRoles(...e))},[Li,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.modules,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.id,value:e.id},(0,s.v_)(e.name),9,gi)))),128))],544),[[a.u1,r.selectedModule]]),Ci,(0,n.bo)((0,n.Lk)("select",{id:"role","onUpdate:modelValue":t[2]||(t[2]=e=>r.selectedRole=e)},[wi,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.roles,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.id,value:e.id},(0,s.v_)(e.name),9,yi)))),128))],512),[[a.u1,r.selectedRole]]),_i],32),(0,n.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>i.goBack&&i.goBack(...e))},"å›åˆ°ä¸Šä¸€é ")])}var Pi={name:"AssignRoleAndModule",data(){return{selectedModule:"",selectedRole:"",modules:[],roles:[],user:{}}},methods:{loadModules(){vn.get("/api/backend/get_modules/").then((e=>{this.modules=e.data})).catch((e=>{console.error("Error loading modules:",e)}))},loadRoles(){this.selectedModule?vn.get(`/api/backend/get_roles_by_module/${this.selectedModule}/`).then((e=>{this.roles=e.data,this.roles.some((e=>e.id===this.selectedRole))||(this.selectedRole="")})).catch((e=>{console.error("Error loading roles:",e)})):this.roles=[]},assignRoleAndModule(){const e=this.$route.params.userId;vn.post(`/api/backend/assign_role_and_module/${e}/`,{module:this.selectedModule,role:this.selectedRole}).then((e=>{e.data.success?(alert("ä¿å­˜æˆåŠŸ"),this.$router.push({name:"userManagement"})):alert("ä¿å­˜å¤±æ•—")})).catch((e=>{console.error("Error saving role and module:",e),alert("ä¿å­˜å¤±æ•—")}))},goBack(){this.$router.go(-1)},loadUser(){const e=this.$route.params.userId;vn.get(`/api/backend/users/${e}/`).then((e=>{this.user=e.data,console.log(this.user),this.selectedModule=this.user.module?this.user.module.id:"",this.selectedRole=this.user.roles.length>0?this.user.roles[0].id:"",this.selectedModule&&this.loadRoles()})).catch((e=>{console.error("è¼‰å…¥ç”¨æˆ¶è³‡æ–™æ™‚ç™¼ç”ŸéŒ¯èª¤:",e)}))}},mounted(){this.loadModules(),this.loadUser()}};const Ei=(0,h.A)(Pi,[["render",Mi],["__scopeId","data-v-114ec4b6"]]);var Ri=Ei;const Ai=e=>((0,n.Qi)("data-v-245fdfa5"),e=e(),(0,n.jt)(),e),Si={class:"header"},Ui=Ai((()=>(0,n.Lk)("h2",null,"æ¨¡çµ„ç®¡ç†",-1))),Vi={class:"btn-group"},Fi={class:"module-table"},xi=Ai((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"æ¨¡çµ„åç¨±"),(0,n.Lk)("th",null,"ç”¨æˆ¶æ•¸"),(0,n.Lk)("th",null,"æ“ä½œ")])],-1))),Xi=["onClick"],$i=["onClick"];function Ii(e,t,o,a,l,r){const i=(0,n.g2)("ModuleForm");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:(0,s.C4)(["container",{shifted:l.isSidebarActive}])},[(0,n.Lk)("div",Si,[Ui,(0,n.Lk)("div",Vi,[(0,n.Lk)("button",{id:"add-module-btn",class:"btn add-module-btn",onClick:t[0]||(t[0]=(...e)=>r.openCreateModuleModal&&r.openCreateModuleModal(...e))},"æ–°å¢æ¨¡çµ„"),(0,n.Lk)("button",{class:"btn",onClick:t[1]||(t[1]=(...e)=>r.navigateToRoleManagement&&r.navigateToRoleManagement(...e))},"è§’è‰²"),(0,n.Lk)("button",{class:"btn",onClick:t[2]||(t[2]=(...e)=>r.navigateToModuleManagement&&r.navigateToModuleManagement(...e))},"æ¨¡çµ„")])]),(0,n.Lk)("table",Fi,[xi,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.modules,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id},[(0,n.Lk)("td",null,(0,s.v_)(e.name),1),(0,n.Lk)("td",null,(0,s.v_)(r.getUserCount(e.id)),1),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"edit-btn",onClick:t=>r.openEditModuleModal(e.id,e.name)},"ç·¨è¼¯",8,Xi),(0,n.Lk)("button",{class:"delete-btn",onClick:t=>r.deleteModule(e.id)},"åˆªé™¤",8,$i)])])))),128))])]),l.showCreateModuleModal?((0,n.uX)(),(0,n.Wv)(i,{key:0,onClose:r.closeCreateModuleModal,onCreate:r.createModule},null,8,["onClose","onCreate"])):(0,n.Q3)("",!0),l.showEditModuleModal?((0,n.uX)(),(0,n.Wv)(i,{key:1,moduleId:l.editModuleId,moduleName:l.editModuleName,onClose:r.closeEditModuleModal,onEdit:r.editModule},null,8,["moduleId","moduleName","onClose","onEdit"])):(0,n.Q3)("",!0)],2)])}const Ti=e=>((0,n.Qi)("data-v-4b7b9413"),e=e(),(0,n.jt)(),e),Di={class:"container"},Qi={class:"form-group"},Bi=Ti((()=>(0,n.Lk)("label",{for:"module-name"},"æ¨¡çµ„åç¨±",-1))),Ji={type:"submit",class:"btn"};function Ni(e,t,o,l,r,i){return(0,n.uX)(),(0,n.CE)("div",Di,[(0,n.Lk)("h2",null,(0,s.v_)(o.moduleId?"ç·¨è¼¯æ¨¡çµ„":"æ–°å¢æ¨¡çµ„"),1),(0,n.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>i.handleSubmit&&i.handleSubmit(...e)),["prevent"]))},[(0,n.Lk)("div",Qi,[Bi,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>r.localModuleName=e),id:"module-name",required:""},null,512),[[a.Jo,r.localModuleName]])]),(0,n.Lk)("button",Ji,(0,s.v_)(o.moduleId?"ä¿å­˜è®Šæ›´":"æ–°å¢"),1),(0,n.Lk)("button",{type:"button",class:"btn secondary",onClick:t[1]||(t[1]=(...e)=>i.close&&i.close(...e))},"å–æ¶ˆ")],32)])}var ji={name:"ModuleForm",props:{moduleId:{type:[String,Number],default:null},moduleName:{type:String,default:""}},data(){return{localModuleName:this.moduleName}},methods:{close(){this.$emit("close")},handleSubmit(){const e={name:this.localModuleName};this.moduleId?this.$emit("edit",e):this.$emit("create",e)}}};const qi=(0,h.A)(ji,[["render",Ni],["__scopeId","data-v-4b7b9413"]]);var Wi=qi,Oi={name:"ModuleManagement",components:{ModuleForm:Wi},data(){return{modules:[],showCreateModuleModal:!1,showEditModuleModal:!1,newModuleName:"",editModuleName:"",editModuleId:null,isSidebarActive:!1}},methods:{async loadModules(){try{const e=await vn.get("/api/backend/modules/");console.log("Modules from backend:",e.data),this.modules=e.data.filter((e=>!e.is_deleted))||[]}catch(e){console.error("Error fetching modules:",e.response?e.response.data:e.message)}},openCreateModuleModal(){this.showCreateModuleModal=!0},closeCreateModuleModal(){this.showCreateModuleModal=!1},async createModule(e){try{const t=await vn.post("/api/backend/modules/",e);201===t.status?(this.loadModules(),this.closeCreateModuleModal(),alert("æ–°å¢æ¨¡çµ„æˆåŠŸ")):alert("æ–°å¢æ¨¡çµ„å¤±æ•—")}catch(t){console.error("Error creating module:",t.response?t.response.data:t.message),alert("æ–°å¢æ¨¡çµ„å¤±æ•—")}},openEditModuleModal(e,t){this.editModuleId=e,this.editModuleName=t,this.showEditModuleModal=!0},closeEditModuleModal(){this.showEditModuleModal=!1},async editModule(e){try{const t=await vn.put(`/api/backend/modules/${this.editModuleId}/`,e);200===t.status?(this.loadModules(),this.closeEditModuleModal(),alert("ç·¨è¼¯æ¨¡çµ„æˆåŠŸ")):alert("ç·¨è¼¯æ¨¡çµ„å¤±æ•—")}catch(t){console.error("Error editing module:",t.response?t.response.data:t.message),alert("ç·¨è¼¯æ¨¡çµ„å¤±æ•—")}},async deleteModule(e){try{const t=await vn.delete(`/api/backend/modules/${e}/`);console.log("Delete response:",t),204===t.status?(this.loadModules(),alert("åˆªé™¤æˆåŠŸ")):(alert("åˆªé™¤æ¨¡çµ„å¤±æ•—"),console.error("Error deleting module:",t.data.message))}catch(t){console.error("Error deleting module:",t.response?t.response.data:t.message),alert("åˆªé™¤æ¨¡çµ„å¤±æ•—")}},navigateToRoleManagement(){this.$router.push("/backend/role-management")},navigateToModuleManagement(){this.$router.push("/backend/module-management")},getUserCount(e){const t=this.modules.find((t=>t.id===e));return t?t.user_count:0},toggleSidebar(){this.isSidebarActive=!this.isSidebarActive}},created(){this.loadModules()}};const Hi=(0,h.A)(Oi,[["render",Ii],["__scopeId","data-v-245fdfa5"]]);var zi=Hi;const Ki=e=>((0,n.Qi)("data-v-03df9c06"),e=e(),(0,n.jt)(),e),Zi={class:"container"},Yi=Ki((()=>(0,n.Lk)("h2",null,"æ–°å¢æ¬Šé™",-1))),Gi={class:"form-group"},ed=Ki((()=>(0,n.Lk)("label",{for:"permission-name"},"åŠŸèƒ½åç¨±",-1))),td={class:"form-group"},od=Ki((()=>(0,n.Lk)("h3",null,"æ¬Šé™",-1))),ad={class:"checkbox-container"};function nd(e,t,o,s,l,r){return(0,n.uX)(),(0,n.CE)("div",Zi,[Yi,(0,n.Lk)("div",Gi,[ed,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.newPermission.permission_name=e),id:"permission-name",required:""},null,512),[[a.Jo,l.newPermission.permission_name]])]),(0,n.Lk)("div",td,[od,(0,n.Lk)("div",ad,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=e=>l.newPermission.can_add=e)},null,512),[[a.lH,l.newPermission.can_add]]),(0,n.eW)(" æ–°å¢")]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>l.newPermission.can_query=e)},null,512),[[a.lH,l.newPermission.can_query]]),(0,n.eW)(" æŸ¥è©¢")]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=e=>l.newPermission.can_view=e)},null,512),[[a.lH,l.newPermission.can_view]]),(0,n.eW)(" æª¢è¦–")]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=e=>l.newPermission.can_edit=e)},null,512),[[a.lH,l.newPermission.can_edit]]),(0,n.eW)(" ä¿®æ”¹")]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=e=>l.newPermission.can_delete=e)},null,512),[[a.lH,l.newPermission.can_delete]]),(0,n.eW)(" åˆªé™¤")]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=e=>l.newPermission.can_print=e)},null,512),[[a.lH,l.newPermission.can_print]]),(0,n.eW)(" åˆ—å°")]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=e=>l.newPermission.can_export=e)},null,512),[[a.lH,l.newPermission.can_export]]),(0,n.eW)(" åŒ¯å‡º")]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=e=>l.newPermission.can_maintain=e)},null,512),[[a.lH,l.newPermission.can_maintain]]),(0,n.eW)(" ç¶­è­·")])])]),(0,n.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>r.savePermission&&r.savePermission(...e))},"æ–°å¢"),(0,n.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>r.cancelPermission&&r.cancelPermission(...e))},"å–æ¶ˆ")])}var sd={data(){return{newPermission:{permission_name:"",can_add:!1,can_query:!1,can_view:!1,can_edit:!1,can_delete:!1,can_print:!1,can_export:!1,can_maintain:!1}}},methods:{async savePermission(){try{const e=await vn.post("/api/backend/role_permissions/",{...this.newPermission,role:this.$route.params.roleId});e.status>=200&&e.status<300?(alert("æ–°å¢æˆåŠŸ"),this.$emit("permission-saved"),this.$router.back()):alert("æ–°å¢å¤±æ•—")}catch(e){console.error("Error saving permission:",e.response?e.response.data:e.message),alert(`æ–°å¢å¤±æ•—: ${e.response?e.response.data.detail:e.message}`)}},cancelPermission(){this.$emit("permission-cancelled"),this.$router.back()}}};const ld=(0,h.A)(sd,[["render",nd],["__scopeId","data-v-03df9c06"]]);var rd=ld;const id=e=>((0,n.Qi)("data-v-142d06c4"),e=e(),(0,n.jt)(),e),dd={class:"container"},cd={class:"search-container"},ud={class:"sort-container"},pd=id((()=>(0,n.Lk)("label",{for:"sortField"},"æ’åºä¾æ“š:",-1))),hd=id((()=>(0,n.Lk)("option",{value:"timestamp"},"æ“ä½œæ™‚é–“",-1))),md=id((()=>(0,n.Lk)("option",{value:"username"},"ç”¨æˆ¶",-1))),kd=id((()=>(0,n.Lk)("option",{value:"action"},"æ“ä½œ",-1))),bd=[hd,md,kd],fd={class:"modal-content"},vd=id((()=>(0,n.Lk)("label",{for:"userName"},"ç”¨æˆ¶:",-1))),Ld=id((()=>(0,n.Lk)("br",null,null,-1))),gd=id((()=>(0,n.Lk)("br",null,null,-1))),Cd=id((()=>(0,n.Lk)("label",{for:"userAction"},"æ“ä½œ:",-1))),wd=id((()=>(0,n.Lk)("br",null,null,-1))),yd=id((()=>(0,n.Lk)("br",null,null,-1))),_d=id((()=>(0,n.Lk)("label",{for:"userEmail"},"é›»å­éƒµä»¶:",-1))),Md=id((()=>(0,n.Lk)("br",null,null,-1))),Pd=id((()=>(0,n.Lk)("br",null,null,-1))),Ed=id((()=>(0,n.Lk)("label",{for:"timestamp"},"æ“ä½œæ™‚é–“:",-1))),Rd=id((()=>(0,n.Lk)("br",null,null,-1))),Ad=id((()=>(0,n.Lk)("br",null,null,-1))),Sd=id((()=>(0,n.Lk)("button",{type:"submit"},"æ–°å¢ç´€éŒ„",-1))),Ud={class:"history-container"},Vd=id((()=>(0,n.Lk)("h2",null,"æ­·å²ç´€éŒ„",-1))),Fd={class:"history-table",id:"history-table"},xd=id((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"ç·¨è™Ÿ"),(0,n.Lk)("th",null,"ç”¨æˆ¶"),(0,n.Lk)("th",null,"æ­·å²æ“ä½œ"),(0,n.Lk)("th",null,"é›»å­éƒµä»¶"),(0,n.Lk)("th",null,"æ“ä½œæ™‚é–“")])],-1)));function Xd(e,t,o,l,r,i){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",dd,[(0,n.Lk)("div",cd,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>r.searchQuery=e),placeholder:"æŸ¥å°‹æ­·å²ç´€éŒ„..."},null,512),[[a.Jo,r.searchQuery]]),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.searchHistory&&i.searchHistory(...e))},"æŸ¥å°‹"),(0,n.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.refreshPage&&i.refreshPage(...e))},"é‡æ•´")]),(0,n.Lk)("div",ud,[pd,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.sortField=e),id:"sortField"},bd,512),[[a.u1,r.sortField]]),(0,n.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>i.toggleSortOrder&&i.toggleSortOrder(...e))},"æ’åºé †åº: "+(0,s.v_)("asc"===r.sortOrder?"å‡åº":"é™åº"),1)]),r.isAddRecordModalVisible?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"modal",onClick:t[11]||(t[11]=(0,a.D$)((e=>i.closeModal("addRecordModal")),["self"]))},[(0,n.Lk)("div",fd,[(0,n.Lk)("span",{class:"close",onClick:t[5]||(t[5]=e=>i.closeModal("addRecordModal"))},"Ã—"),(0,n.Lk)("form",{onSubmit:t[10]||(t[10]=(0,a.D$)(((...e)=>i.addRecord&&i.addRecord(...e)),["prevent"]))},[vd,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>r.newRecord.userName=e),required:""},null,512),[[a.Jo,r.newRecord.userName]]),Ld,gd,Cd,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=e=>r.newRecord.userAction=e),required:""},null,512),[[a.Jo,r.newRecord.userAction]]),wd,yd,_d,(0,n.bo)((0,n.Lk)("input",{type:"email","onUpdate:modelValue":t[8]||(t[8]=e=>r.newRecord.userEmail=e),required:""},null,512),[[a.Jo,r.newRecord.userEmail]]),Md,Pd,Ed,(0,n.bo)((0,n.Lk)("input",{type:"datetime-local","onUpdate:modelValue":t[9]||(t[9]=e=>r.newRecord.timestamp=e),required:""},null,512),[[a.Jo,r.newRecord.timestamp]]),Rd,Ad,Sd],32)])])):(0,n.Q3)("",!0),(0,n.Lk)("div",Ud,[Vd,(0,n.Lk)("table",Fd,[xd,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.filteredRecords,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("td",null,(0,s.v_)(t+1),1),(0,n.Lk)("td",null,(0,s.v_)(e.user?e.user.username:"æœªçŸ¥"),1),(0,n.Lk)("td",null,(0,s.v_)(e.action),1),(0,n.Lk)("td",null,(0,s.v_)(e.user?e.user.email:"N/A"),1),(0,n.Lk)("td",null,(0,s.v_)(i.formatDateTime(e.timestamp)),1)])))),128))])])])])])}var $d={name:"HistoricalRecord",data(){return{searchQuery:"",isAddRecordModalVisible:!1,isLoading:!1,newRecord:{userName:"",userAction:"",userEmail:"",timestamp:""},records:[],isSidebarActive:!1,sortField:"timestamp",sortOrder:"asc"}},computed:{filteredRecords(){let e=this.records.filter((e=>["user_id","userName","userAction","userEmail"].some((t=>{const o=e[t];return"string"===typeof o?o.toLowerCase().includes(this.searchQuery.toLowerCase()):String(o).includes(this.searchQuery)}))));return e=e.sort(((e,t)=>{let o="username"===this.sortField?e.user?e.user.username:"":e[this.sortField],a="username"===this.sortField?t.user?t.user.username:"":t[this.sortField];return o<a?"asc"===this.sortOrder?-1:1:o>a?"asc"===this.sortOrder?1:-1:0})),e}},methods:{openModal(e){"addRecordModal"===e&&(this.isAddRecordModalVisible=!0)},closeModal(e){"addRecordModal"===e&&(this.isAddRecordModalVisible=!1)},async fetchRecords(){this.isLoading=!0;try{const{data:e}=await vn.get("/api/backend/user_history/");console.log(e),this.records=e}catch(e){console.error("Failed to fetch records:",e)}finally{this.isLoading=!1}},async addRecord(){this.isLoading=!0;try{const e={user_id:this.newRecord.userName,action:this.newRecord.userAction,timestamp:this.newRecord.timestamp};await vn.post("/api/backend/user_history/",e),this.records.push({...this.newRecord}),this.newRecord={userName:"",userAction:"",userEmail:"",timestamp:""},this.closeModal("addRecordModal")}catch(e){alert("Failed to add record: "+e.response.data.message||0),console.error("Failed to add record:",e)}finally{this.isLoading=!1}},searchHistory(){},refreshPage(){this.fetchRecords()},formatDateTime(e){return new Date(e).toLocaleString()},toggleSortOrder(){this.sortOrder="asc"===this.sortOrder?"desc":"asc"}},mounted(){this.fetchRecords()}};const Id=(0,h.A)($d,[["render",Xd],["__scopeId","data-v-142d06c4"]]);var Td=Id;const Dd=e=>((0,n.Qi)("data-v-16b778ba"),e=e(),(0,n.jt)(),e),Qd={class:"app-container"},Bd=Dd((()=>(0,n.Lk)("h1",{class:"title"},"å€‹äººåå¥½ç®¡ç†",-1))),Jd={class:"form-group"},Nd=Dd((()=>(0,n.Lk)("label",{for:"font-size"},"å­—é«”å¤§å°:",-1))),jd=Dd((()=>(0,n.Lk)("option",{value:"small"},"å°",-1))),qd=Dd((()=>(0,n.Lk)("option",{value:"medium"},"ä¸­",-1))),Wd=Dd((()=>(0,n.Lk)("option",{value:"large"},"å¤§",-1))),Od=[jd,qd,Wd],Hd={class:"form-group"},zd=Dd((()=>(0,n.Lk)("label",{for:"notification-settings"},"é€šçŸ¥:",-1))),Kd=Dd((()=>(0,n.Lk)("option",{value:1},"å•Ÿç”¨",-1))),Zd=Dd((()=>(0,n.Lk)("option",{value:0},"ä¸å•Ÿç”¨",-1))),Yd=[Kd,Zd],Gd={class:"form-group"},ec=Dd((()=>(0,n.Lk)("label",{for:"auto-login"},"è‡ªå‹•ç™»å…¥:",-1))),tc=Dd((()=>(0,n.Lk)("option",{value:1},"å•Ÿç”¨",-1))),oc=Dd((()=>(0,n.Lk)("option",{value:0},"ä¸å•Ÿç”¨",-1))),ac=[tc,oc],nc={class:"form-group"},sc=Dd((()=>(0,n.Lk)("label",{for:"authentication"},"æ˜¯å¦é©—è­‰:",-1))),lc=Dd((()=>(0,n.Lk)("option",{value:1},"å·²é©—è­‰",-1))),rc=Dd((()=>(0,n.Lk)("option",{value:0},"æœªé©—è­‰",-1))),ic=[lc,rc],dc={class:"btn-container"},cc=Dd((()=>(0,n.Lk)("button",{type:"submit",class:"btn btn-save"},"ä¿å­˜æ›´æ”¹",-1))),uc={key:0,class:"success-message"},pc={key:1,class:"modal"},hc={class:"modal-content"},mc=Dd((()=>(0,n.Lk)("h2",{class:"title"},"æ–°å¢å€‹äººåå¥½",-1))),kc={class:"form-group"},bc=Dd((()=>(0,n.Lk)("label",{for:"add-font-size"},"å­—é«”å¤§å°:",-1))),fc=Dd((()=>(0,n.Lk)("option",{value:"small"},"å°",-1))),vc=Dd((()=>(0,n.Lk)("option",{value:"medium"},"ä¸­",-1))),Lc=Dd((()=>(0,n.Lk)("option",{value:"large"},"å¤§",-1))),gc=[fc,vc,Lc],Cc={class:"form-group"},wc=Dd((()=>(0,n.Lk)("label",{for:"add-notifications"},"é€šçŸ¥:",-1))),yc=Dd((()=>(0,n.Lk)("option",{value:1},"å•Ÿç”¨",-1))),_c=Dd((()=>(0,n.Lk)("option",{value:0},"ä¸å•Ÿç”¨",-1))),Mc=[yc,_c],Pc={class:"form-group"},Ec=Dd((()=>(0,n.Lk)("label",{for:"add-auto-login"},"è‡ªå‹•ç™»å…¥:",-1))),Rc=Dd((()=>(0,n.Lk)("option",{value:1},"å•Ÿç”¨",-1))),Ac=Dd((()=>(0,n.Lk)("option",{value:0},"ä¸å•Ÿç”¨",-1))),Sc=[Rc,Ac],Uc={class:"form-group"},Vc=Dd((()=>(0,n.Lk)("label",{for:"add-authentication"},"æ˜¯å¦é©—è­‰:",-1))),Fc=Dd((()=>(0,n.Lk)("option",{value:1},"å·²é©—è­‰",-1))),xc=Dd((()=>(0,n.Lk)("option",{value:0},"æœªé©—è­‰",-1))),Xc=[Fc,xc],$c={class:"btn-container"},Ic=Dd((()=>(0,n.Lk)("button",{type:"submit",class:"btn btn-save"},"ä¿å­˜",-1)));function Tc(e,t,o,l,r,i){return(0,n.uX)(),(0,n.CE)("div",Qd,[(0,n.Lk)("div",{class:(0,s.C4)(["app-content",{shifted:r.isSidebarActive}])},[Bd,(0,n.Lk)("form",{onSubmit:t[7]||(t[7]=(0,a.D$)(((...e)=>i.updatePreferences&&i.updatePreferences(...e)),["prevent"])),class:"preferences-form"},[(0,n.Lk)("div",Jd,[Nd,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.preferences.fontsize=e),id:"font-size",class:"form-control"},Od,512),[[a.u1,r.preferences.fontsize]])]),(0,n.Lk)("div",Hd,[zd,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.preferences.notificationSettings=e),id:"notification-settings",class:"form-control"},Yd,512),[[a.u1,r.preferences.notificationSettings]])]),(0,n.Lk)("div",Gd,[ec,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.preferences.autoLogin=e),id:"auto-login",class:"form-control"},ac,512),[[a.u1,r.preferences.autoLogin]])]),(0,n.Lk)("div",nc,[sc,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.preferences.authentication=e),id:"authentication",class:"form-control"},ic,512),[[a.u1,r.preferences.authentication]])]),(0,n.Lk)("div",dc,[cc,(0,n.Lk)("button",{type:"button",class:"btn btn-add",onClick:t[4]||(t[4]=(...e)=>i.showAddModal&&i.showAddModal(...e))},"æ–°å¢"),(0,n.Lk)("button",{type:"button",class:"btn btn-delete",onClick:t[5]||(t[5]=(...e)=>i.deletePreference&&i.deletePreference(...e))},"åˆªé™¤"),(0,n.Lk)("button",{type:"button",class:"btn btn-cancel",onClick:t[6]||(t[6]=(...e)=>i.resetPreferences&&i.resetPreferences(...e))},"å–æ¶ˆæ›´æ”¹")])],32),r.successMessage?((0,n.uX)(),(0,n.CE)("div",uc,"ä¿å­˜æˆåŠŸï¼")):(0,n.Q3)("",!0),r.showModal?((0,n.uX)(),(0,n.CE)("div",pc,[(0,n.Lk)("div",hc,[(0,n.Lk)("span",{class:"close",onClick:t[8]||(t[8]=(...e)=>i.closeAddModal&&i.closeAddModal(...e))},"Ã—"),mc,(0,n.Lk)("form",{onSubmit:t[14]||(t[14]=(0,a.D$)(((...e)=>i.addPreference&&i.addPreference(...e)),["prevent"])),class:"preferences-form"},[(0,n.Lk)("div",kc,[bc,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>r.newPreference.fontsize=e),id:"add-font-size",class:"form-control"},gc,512),[[a.u1,r.newPreference.fontsize]])]),(0,n.Lk)("div",Cc,[wc,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[10]||(t[10]=e=>r.newPreference.notificationSettings=e),id:"add-notifications",class:"form-control"},Mc,512),[[a.u1,r.newPreference.notificationSettings]])]),(0,n.Lk)("div",Pc,[Ec,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[11]||(t[11]=e=>r.newPreference.autoLogin=e),id:"add-auto-login",class:"form-control"},Sc,512),[[a.u1,r.newPreference.autoLogin]])]),(0,n.Lk)("div",Uc,[Vc,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[12]||(t[12]=e=>r.newPreference.authentication=e),id:"add-authentication",class:"form-control"},Xc,512),[[a.u1,r.newPreference.authentication]])]),(0,n.Lk)("div",$c,[Ic,(0,n.Lk)("button",{type:"button",class:"btn btn-cancel",onClick:t[13]||(t[13]=(...e)=>i.closeAddModal&&i.closeAddModal(...e))},"å–æ¶ˆ")])],32)])])):(0,n.Q3)("",!0)],2)])}var Dc={name:"PersonalPreference",data(){return{preferences:{user_id:null,fontsize:"",notificationSettings:0,autoLogin:0,authentication:0},newPreference:{fontsize:"medium",notificationSettings:0,autoLogin:0,authentication:0},successMessage:!1,showModal:!1,isSidebarActive:!1}},created(){this.loadPreferences()},methods:{loadPreferences(){M.A.get("/api/user_preferences/").then((e=>{this.preferences=e.data})).catch((e=>{console.error("Error loading preferences:",e)}))},updatePreferences(){M.A.post("/api/user_preferences/",this.preferences).then((e=>{200===e.status?this.showSuccessMessage():alert("ä¿å­˜å¤±æ•—")})).catch((e=>{console.error("Error updating preferences:",e)}))},showAddModal(){this.showModal=!0},closeAddModal(){this.showModal=!1},addPreference(){M.A.post("/api/user_preferences/",this.newPreference).then((e=>{200===e.status?(this.closeAddModal(),this.showSuccessMessage()):alert("æ–°å¢å¤±æ•—")})).catch((e=>{console.error("Error adding preference:",e)}))},deletePreference(){M.A.post("/api/user_preferences/",{user_id:this.preferences.user_id}).then((e=>{200===e.status?this.showSuccessMessage():alert("åˆªé™¤å¤±æ•—")})).catch((e=>{console.error("Error deleting preference:",e)}))},resetPreferences(){this.loadPreferences()},showSuccessMessage(){this.successMessage=!0,setTimeout((()=>{this.successMessage=!1}),3e3)}}};const Qc=(0,h.A)(Dc,[["render",Tc],["__scopeId","data-v-16b778ba"]]);var Bc=Qc;const Jc=e=>((0,n.Qi)("data-v-27cee45a"),e=e(),(0,n.jt)(),e),Nc={class:"profile-container"},jc=Jc((()=>(0,n.Lk)("h2",null,"å€‹äººè³‡æ–™",-1))),qc=Jc((()=>(0,n.Lk)("label",{for:"name"},"å§“åï¼š",-1))),Wc=Jc((()=>(0,n.Lk)("label",{for:"username"},"å¸³è™Ÿï¼š",-1))),Oc=Jc((()=>(0,n.Lk)("label",{for:"department"},"éƒ¨é–€ï¼š",-1))),Hc=Jc((()=>(0,n.Lk)("label",{for:"position"},"è·ä½ï¼š",-1))),zc=Jc((()=>(0,n.Lk)("label",{for:"phone"},"é›»è©±ï¼š",-1))),Kc=Jc((()=>(0,n.Lk)("label",{for:"email"},"é›»å­éƒµä»¶ï¼š",-1))),Zc=Jc((()=>(0,n.Lk)("label",{for:"created"},"å»ºç«‹æ™‚é–“ï¼š",-1))),Yc={key:0,id:"editModal",class:"modal"},Gc={class:"modal-content"},eu=Jc((()=>(0,n.Lk)("h2",null,"ç·¨è¼¯å€‹äººè³‡æ–™",-1))),tu=Jc((()=>(0,n.Lk)("label",{for:"modal-name"},"å§“åï¼š",-1))),ou=Jc((()=>(0,n.Lk)("label",{for:"modal-username"},"å¸³è™Ÿï¼š",-1))),au=Jc((()=>(0,n.Lk)("label",{for:"modal-department"},"éƒ¨é–€ï¼š",-1))),nu=Jc((()=>(0,n.Lk)("label",{for:"modal-position"},"è·ä½ï¼š",-1))),su=Jc((()=>(0,n.Lk)("label",{for:"modal-phone"},"é›»è©±ï¼š",-1))),lu=Jc((()=>(0,n.Lk)("label",{for:"modal-email"},"é›»å­éƒµä»¶ï¼š",-1)));function ru(e,t,o,s,l,r){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",Nc,[jc,qc,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>l.profile.name=e)},null,512),[[a.Jo,l.profile.name]]),Wc,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":t[1]||(t[1]=e=>l.profile.username=e),disabled:""},null,512),[[a.Jo,l.profile.username]]),Oc,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"department","onUpdate:modelValue":t[2]||(t[2]=e=>l.profile.department=e)},null,512),[[a.Jo,l.profile.department]]),Hc,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"position","onUpdate:modelValue":t[3]||(t[3]=e=>l.profile.position=e)},null,512),[[a.Jo,l.profile.position]]),zc,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"phone","onUpdate:modelValue":t[4]||(t[4]=e=>l.profile.phone=e)},null,512),[[a.Jo,l.profile.phone]]),Kc,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"email","onUpdate:modelValue":t[5]||(t[5]=e=>l.profile.email=e)},null,512),[[a.Jo,l.profile.email]]),Zc,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"created","onUpdate:modelValue":t[6]||(t[6]=e=>l.profile.created=e),disabled:""},null,512),[[a.Jo,l.profile.created]]),(0,n.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>r.openModal&&r.openModal(...e))},"ç·¨è¼¯"),(0,n.Lk)("button",{class:"logout-btn",onClick:t[8]||(t[8]=(...e)=>r.logout&&r.logout(...e))},"ç™»å‡º")]),l.showModal?((0,n.uX)(),(0,n.CE)("div",Yc,[(0,n.Lk)("div",Gc,[(0,n.Lk)("span",{class:"close",onClick:t[9]||(t[9]=(...e)=>r.closeModal&&r.closeModal(...e))},"Ã—"),eu,tu,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"modal-name","onUpdate:modelValue":t[10]||(t[10]=e=>l.editProfile.name=e)},null,512),[[a.Jo,l.editProfile.name]]),ou,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"modal-username","onUpdate:modelValue":t[11]||(t[11]=e=>l.editProfile.username=e),disabled:""},null,512),[[a.Jo,l.editProfile.username]]),au,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"modal-department","onUpdate:modelValue":t[12]||(t[12]=e=>l.editProfile.department=e)},null,512),[[a.Jo,l.editProfile.department]]),nu,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"modal-position","onUpdate:modelValue":t[13]||(t[13]=e=>l.editProfile.position=e)},null,512),[[a.Jo,l.editProfile.position]]),su,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"modal-phone","onUpdate:modelValue":t[14]||(t[14]=e=>l.editProfile.phone=e)},null,512),[[a.Jo,l.editProfile.phone]]),lu,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"modal-email","onUpdate:modelValue":t[15]||(t[15]=e=>l.editProfile.email=e)},null,512),[[a.Jo,l.editProfile.email]]),(0,n.Lk)("button",{onClick:t[16]||(t[16]=(...e)=>r.saveProfile&&r.saveProfile(...e))},"ä¿å­˜")])])):(0,n.Q3)("",!0)])}var iu={name:"PersonalProfile",data(){return{profile:{name:"",username:"",department:"",position:"",phone:"",email:"",created:""},editProfile:{name:"",username:"",department:"",position:"",phone:"",email:""},showModal:!1,isSidebarActive:!1}},created(){this.getProfile()},methods:{getProfile(){M.A.get("/api/backend/profile/").then((e=>{this.profile=e.data,this.profile.department=e.data.department_id,this.profile.position=e.data.position_id,this.profile.created=e.data.date_joined})).catch((e=>{console.error("ç„¡æ³•å–å¾—å€‹äººè³‡æ–™:",e)}))},openModal(){this.editProfile={...this.profile},this.showModal=!0},closeModal(){this.showModal=!1},saveProfile(){M.A.post("/api/backend/profile/",this.editProfile).then((()=>{this.profile={...this.editProfile},this.closeModal(),alert("å€‹äººè³‡æ–™å·²æ›´æ–°")})).catch((e=>{console.error("ç„¡æ³•æ›´æ–°å€‹äººè³‡æ–™:",e)}))},logout(){M.A.post("/api/backend/logout/").then((()=>{window.location.href="/frontend/login/"})).catch((e=>{console.error("ç„¡æ³•ç™»å‡º:",e)}))},toggleSidebar(){this.isSidebarActive=!this.isSidebarActive}}};const du=(0,h.A)(iu,[["render",ru],["__scopeId","data-v-27cee45a"]]);var cu=du;const uu=[{path:"/",redirect:"/frontend/login"},{path:"/frontend/login",name:"FrontendLogin",component:se,meta:{hideNavbar:!0,hideSidebar:!0}},{path:"/frontend/register",name:"FrontendRegister",component:ye,meta:{hideNavbar:!0,hideSidebar:!0}},{path:"/frontend/forgot_password",name:"FrontendForgetPassword",component:je,meta:{hideNavbar:!0,hideSidebar:!0}},{path:"/frontend/home",name:"é¦–é ",component:ft},{path:"/frontend/manager_home",name:"ManagerHome",component:Oa},{path:"/frontend/branch_manager_home",name:"BranchManagerHome",component:on},{path:"/frontend/profile",name:"å€‹äººè³‡è¨Š",component:St},{path:"/frontend/accountsettings",name:"å¸³è™Ÿè¨­å®š",component:Nt},{path:"/frontend/changepassword",name:"ä¿®æ”¹å¯†ç¢¼",component:eo},{path:"/frontend/preferences",name:"åå¥½è¨­å®š",component:na},{path:"/frontend/historydetails/:id",name:"æ­·å²ç´€éŒ„è©³æƒ…",component:Ta},{path:"/frontend/history",name:"æ­·å²ç´€éŒ„",component:ya},{path:"/backend/login",name:"BackendLogin",component:wn,meta:{hideSidebar:!0}},{path:"/backend/register",name:"BackendRegister",component:Qn},{path:"/backend/forgetpassword",name:"BackendForgetPassword",component:zn},{path:"/backend/management",name:"BackendManagement",component:ss},{path:"/backend/dashboard",name:"BackendDashboard",component:rl},{path:"/backend/user-management",name:"BackendUserManagement",component:El},{path:"/backend/role-management",name:"BackendRoleManagement",component:Fr},{path:"/backend/pending_list",name:"BackendPendingList",component:Wr},{path:"/backend/edit_user/:userId",name:"BackendEditUser",component:ki},{path:"/backend/assign_role/:userId",name:"BackendAssignRole",component:Ri},{path:"/backend/module-management",name:"BackendModuleManagement",component:zi},{path:"/backend/create_role",name:"BackendCreateRole",component:Sr},{path:"/backend/edit_role/:roleId",name:"BackendEditRole",component:Sr},{path:"/backend/create-module",name:"BackendCreateModule",component:Wi},{path:"/backend/edit_module/:moduleId",name:"BackendEditModule",component:Wi},{path:"/backend/role_permissions/:roleId",name:"BackendRolePermissions",component:rd},{path:"/backend/history",name:"BackendHistory",component:Td},{path:"/backend/preferences",name:"BackendPreference",component:Bc},{path:"/backend/profile",name:"BackendProfile",component:cu}],pu=(0,Q.aE)({history:(0,Q.LA)(),routes:uu});var hu=pu,mu=o(782);const ku=(0,mu.y$)({state:{token:null,user:null},mutations:{setToken(e,t){e.token=t},setUser(e,t){e.user=t}},actions:{setToken({commit:e},t){e("setToken",t)},setUser({commit:e},t){e("setUser",t)}}});var bu=ku,fu=o(8950),vu=o(292),Lu=o(2353),gu=o(4570),Cu=o.n(gu);const wu=(0,a.Ef)(D);wu.use(hu),wu.use(bu),wu.component("font-awesome-icon",vu.gc),fu.Yv.add(Lu.X7I),wu.use(Cu());const yu=window.location.pathname.startsWith("/admin");yu&&(wu.config.globalProperties.$axios=vn),wu.mount("#app")}},t={};function o(a){var n=t[a];if(void 0!==n)return n.exports;var s=t[a]={exports:{}};return e[a].call(s.exports,s,s.exports,o),s.exports}o.m=e,function(){var e=[];o.O=function(t,a,n,s){if(!a){var l=1/0;for(c=0;c<e.length;c++){a=e[c][0],n=e[c][1],s=e[c][2];for(var r=!0,i=0;i<a.length;i++)(!1&s||l>=s)&&Object.keys(o.O).every((function(e){return o.O[e](a[i])}))?a.splice(i--,1):(r=!1,s<l&&(l=s));if(r){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[a,n,s]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,s,l=a[0],r=a[1],i=a[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(i)var c=i(o)}for(t&&t(a);d<l.length;d++)s=l[d],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(c)},a=self["webpackChunkadmin_frontend"]=self["webpackChunkadmin_frontend"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[504],(function(){return o(1404)}));a=o.O(a)})();
//# sourceMappingURL=app.85578b72.js.map